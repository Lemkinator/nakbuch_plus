<!DOCTYPE html>
<html class="staticrypt-html" lang="de">
<head>
    <meta charset="utf-8"/>
    <title>NAK Buch Plus</title> <!-- custom: Protected Page-->
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <!-- do not cache this page -->
    <meta http-equiv="cache-control" content="max-age=0"/>
    <meta http-equiv="cache-control" content="no-cache"/>
    <meta http-equiv="expires" content="0"/>
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
    <meta http-equiv="pragma" content="no-cache"/>

    <style>
        * {
            font-family: "Kumbh Sans", sans-serif;
            color: white;
            transition-property: all;
            transition-duration: 0.6s;
            transition-timing-function: ease;
        }

        body {
            background-color: #1B1B1F;
        }

        .staticrypt-hr {
            margin-top: 20px;
            margin-bottom: 20px;
            border: 0;
            border-top: 1px solid #eee;
        }

        .staticrypt-page {
            width: 360px;
            padding: 8% 0 0;
            margin: auto;
            box-sizing: border-box;
        }

        .staticrypt-form {
            position: relative;
            z-index: 1;
            background: #22232A;
            max-width: 360px;
            margin: 0 auto 100px;
            padding: 45px;
            text-align: center;
            box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
        }

        .staticrypt-form input[type="password"],
        input[type="text"] {
            background: inherit;
            border: 0;
            box-sizing: border-box; /* This ensures padding is included in the total width */
            font-size: 14px;
            outline: 0;
            padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
            width: 100%;
        }

        .staticrypt-password-container {
            position: relative;
            outline: 0;
            background: #393B44;
            width: 100%;
            border: 0;
            margin: 0 0 15px;
            box-sizing: border-box;
        }

        .staticrypt-toggle-password-visibility {
            cursor: pointer;
            height: 20px;
            opacity: 60%;
            padding: 13px;
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 20px;
        }

        .staticrypt-form .staticrypt-decrypt-button {
            text-transform: uppercase;
            outline: 0;
            background: #6989C9;
            width: 100%;
            border: 0;
            padding: 15px;
            color: #ffffff;
            font-size: 14px;
            cursor: pointer;
        }

        .staticrypt-form .staticrypt-decrypt-button:hover,
        .staticrypt-form .staticrypt-decrypt-button:active,
        .staticrypt-form .staticrypt-decrypt-button:focus {
            background: #a5c5ff;
            filter: brightness(92%);
        }

        .staticrypt-html {
            height: 100%;
        }

        .staticrypt-body {
            height: 100%;
            margin: 0;
        }

        .staticrypt-content {
            height: 100%;
            margin-bottom: 1em;
            font-family: "Arial", sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .staticrypt-instructions {
            margin-top: -1em;
            margin-bottom: 1em;
        }

        .staticrypt-title {
            font-size: 1.5em;
        }

        label.staticrypt-remember {
            display: flex;
            align-items: center;
            margin-bottom: 1em;
        }

        .staticrypt-remember input[type="checkbox"] {
            transform: scale(1.5);
            margin-right: 1em;
            accent-color: #6989C9;
        }

        .hidden {
            display: none !important;
        }

        .staticrypt-spinner-container {
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .staticrypt-spinner {
            display: inline-block;
            width: 2rem;
            height: 2rem;
            vertical-align: text-bottom;
            border: 0.25em solid rgb(128, 128, 128);
            border-right-color: transparent;
            border-radius: 50%;
            -webkit-animation: spinner-border 0.75s linear infinite;
            animation: spinner-border 0.75s linear infinite;
            animation-duration: 0.75s;
            animation-timing-function: linear;
            animation-delay: 0s;
            animation-iteration-count: infinite;
            animation-direction: normal;
            animation-fill-mode: none;
            animation-play-state: running;
            animation-name: spinner-border;
        }

        @keyframes spinner-border {
            100% {
                transform: rotate(360deg);
            }
        }
    </style>
</head>

<body class="staticrypt-body">
<div id="staticrypt_loading" class="staticrypt-spinner-container">
    <div class="staticrypt-spinner"></div>
</div>

<div id="staticrypt_content" class="staticrypt-content hidden">
    <div class="staticrypt-page">
        <div class="staticrypt-form">
            <div class="staticrypt-instructions">
                <p class="staticrypt-title">NAK Buch Plus</p> <!-- custom: Protected Page-->
                <p></p>
            </div>

            <hr class="staticrypt-hr"/>

            <form id="staticrypt-form" action="#" method="post">
                <div class="staticrypt-password-container">
                    <label for="staticrypt-password"></label>
                    <input
                            id="staticrypt-password"
                            type="password"
                            name="password"
                            placeholder="Passwort"
                            autofocus
                    />
                    <!-- custom: Password-->
                    <img
                            class="staticrypt-toggle-password-visibility"
                            alt="Passwort anzeigen"
                            title="Passwort anzeigen"
                            src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIgIGZpbGw9IiNGRkZGRkYiLz48L3N2Zz4="
                    />
                </div>

                <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                    <input id="staticrypt-remember" type="checkbox" name="remember"/>
                    Nicht erneut fragen
                </label> <!-- custom: Remember me-->

                <input type="submit" class="staticrypt-decrypt-button" value="Weiter"/>
                <!-- custom: DECRYPT-->
            </form>
        </div>
    </div>
</div>

<script>
    // these variables will be filled when generating the file - the template format is 'variable_name'
    const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
    const templateError = "Falsches Passwort!",//custom: "Bad password!",
        templateToggleAltShow = "Passwort anzeigen", //custom: "template_toggle_show",
        templateToggleAltHide = "Passwort ausblenden", //custom: "template_toggle_hide",
        isRememberEnabled = true,
        staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"987c4a5eff462276af0e1b6a02527f88dedcefa7ac4c030d3744e295acf47d9f64c526c68a4daf3461ce7f885642117e2fb9c09c841cca24cfdcefb3c2178b5f0a8c5ba81557696224beaf8b1fc68d76a7778edab6ec750ae9f18b06fce5ab639e1a509cd2dfb071bb8862cb92389640023d40ce8320b5fe7b3385ae4833dc561a6fb9f378c2d563c723c4d4632cf708f86aac555ee5ae63ed174f99c426c03abf857a7ff1d4513510c4cfadcdafebdde4b8cda11f3a0008a18e50b73f8b49450147a39458d700b29d183906992c846f9d7498020a2b4fba0d0dc2b881dc8255566f10e63fe451f310f3cf83c5f714655b5b8d765bfd4c9b847331cf974f06a5fa4af38577b660ac21da03835f3d59fb7d2a221ca51d8e1d807b3951c03dd0403e50851badb62f505bd8af4d5b47e23737578db129b056394523d8edb31e692d8ee78b606ff00d0f7d7f4370a840b5253027946e8e3eb41a7bc5c2c80d5f89b45cde02735188855b13e41373506cf52c8076f4be2cec6b0eb3a61d11cdaf3320cc70361c6a41463ccc62c4266b5ecd0482a232a3f18d0261172c25a9bb108bb40c8185154a8f79c3d2ede1925587cfff4530edf4af2993dda8619728c33e76f85457735c20fe9de2dc585acf3272d38172a35b6866adb6f222e086c8c6df324594df80bc9f9e5a44031c1fd87ead9562b08492e0de922e328d904c5166bc04123882b742712e03483d7e771f420257d8810a772e4a99e4931bbf3d5258efe20a464709a67a622aa2833ef2243164d8bf1d46ae0201170aae0b19b3a08cdb2128d21ecce3ce48c05edf49081190d3887b8c5d0de5d89f0bfd3ae2345db32cdff2988a826e13f1ac22307812590a89a210fc8c842d7303d4706924ea1ed3ccaf967bb4daff7192f55624d5454d3b656031aef1709cd8a4303b6845822429d78f071898a679d9ab435c2247ccb5065fe100a25042a91c6fd5e429930c2a01d932900d815797949f1e14f9866f78f85d09ada38040c383d167426681a1535c8f1d1879f391db48621a60aeb07da853b957412bedc9bdbd23b3bea4e88371e20a9a783cf4c8b0c2e33821bbce612624c9b4f96dabbfc892ad505952dd397a82061189b54d98eac8adc17997e039f5a6732734c9182b4d357d8bea4d1474df5268976b6ddce8b4e6460f854ed63a00d8026cb7b3cd5e3cbab315d10d28b9ea9df78568ca08b694881866da40692f23e545b328a50c99f7232bb2e6c1910ec590d25a0ecc0c4e4dd139599b475114402b05815758337a8c817429ad75be5cce9c8e39da318ec2efc3ab8b4c283265ad99ce5f02b036e8abcfb1168cc776c2e1fc10cfe05c4889d9fd22ebea9b082291f7f8ceb6749fd0d3ab0ecd8164d76f65d579df51a235f351fd8d1ff8ad01d839d587fddfef7fc272640a163be0700a1656232e310dfc7ae3bfe9b11f19d39cc4ec1b68ed0f811fce849390d0c6063367fbaebf5f5af5adcd2dba0489211b9c9ca700175e0c13961f59b6c803257ba0ec4defa92e39db40649c6e2a667b8874bb2cd804b84bee6461dd87dfb81b47b89f2b7a5de308f57428c7fdd70d6e621ce649909fe02d0717e456d87cb8648a7b576e1d3102dd5008330a10bc5eeaea907fb8056085c61449b158ec83f073d0fe6bc216fa5b0161be4d016fade9a73013d6284df0063b1a6edbd75579c9281ccb7dda359edc888355c3f116e7c3997aa9894fd963ef4c9fad329419e0932f54e1087a48a9f648182742e57402fdaee8f58d3f898ef33bc57523f1a13fc229dbbc47c8d5a46ebb3ddb980ab9ade51de6a9bf2d792f4f52074ef2633838812098e6f29b33e40a71de6ad93e524ec84e5f7fad1b1116337410098b0c15febcc5fbc657d8e28446565fa41cdd4227ebd9a06bf89988087e5d0502e5ff3ddce9898f394d7807402c6fbc239608ebd2b619bb0e29f9569a880d0fb6d8401b88f51343ce5572219044b9b859a5882dcd712863fb5ed4bc782ddb994c14427797f65283e744d1631d8bc2b7869cfba337b18173790fa17d4eba4287a4676c3f82eb069e14c8ed746febf3507d084b8d28bdf8881dfb57c295bab9f22c7a3f245eb86baa8a84fac128a18f4d7df8c17287281ce3b1fc53942063977a312407a713e539a6745e4b4b097f9e0c89dd34feb570cc202ec3543918297d0923e9168ee55f3884604aec1fa45cb7bf62146016e19b1c00ceebcd7ff559b8d6bffc32a4bfdd0b04c6351782a7054f0c264cfaacdf93d07d499b68f6328ea06d141eb3850a590c71dd3a8b7eb62a6e1c45b54d5eec7ea0274b246294e7f88da0932f54339a645e42e4cc2643c5cc3ba0f71b3b565edfa644e2c70c44e5f99cf434229fe678f891614962a31d981ca423afab2db3772a62457ad02c340ee344c87d42885609bef042a9fcff41fc65719abc416d776b047fcc0c251c434e351eddfc85b7d3c30e0e4afa87f2dda570cd63479bbad9354ece3af759080cacf6c5967df07824a8231de351045c473ded79b9aa0e4ad69e845bab154e1d49d114c9002575c6df19db4fac14af3fa06fdeda39a8db761af206b7bb1a92b3b0f750aff108297184157fae481e21c2c69c9394778c0342918566b8ec820c37ee08bab97b5b912322097cfd87951b65f03a1c1401b8baeec0226959b2a05a7349d52ff692fca955ed81d5f40675c444903cfb99ecb42b1fb1167cee18f2831d3eac85791f499eef43c567aeabcfda55263a8e05b94179bbfffac53ea77252c978726f2198eb3ab1a742245f5ef1f4feceb6c0e8aa1de04e67e587829ec03f127cfada398c1afdaf1aa28f7e3b12b7085b22015423759ca18d9bae2bebe0467d38453d0b7f3698e4cd477bb0ba4001611f9de5d1dda6226623efb92011e8c2f467fe4926945e9a8ef40e1745ef68ed3c3a15b2a3404491c196b916a3869538e7fb44034e580f4ac0ed73c2bfd810ad0a9e3daae51eb6384836548ad07b1297476aa2b5846140b958bf5b4fb6abfa3f9f4540c71b569d3d465a44e54a39b194286dcbb042850ce25e4eaa18faf48ac5503a5771167e0e84517805732747fad9ebab02cf9d35690e92aae28e8d58aad95838378567abc16879db6641b8651f917480a8c52a3b3ae4eb04ed19e983368922b1a5872fcbe34af1dcef49bc38f674d091b9cea5de6181406256bf6e70c19a3fb7e23ea1ecd57cc1ae1500215b76257e5ff44b34c841ea9336d75234f40535505992a501f5b3d5dbcc2d9d0fc77dc1b835226ce1b5ce7c0696fed66d55eb74fee532e941014f1470ce2f7f7e05de7ad3d35f8118c9f4ccc695e2ce5964790d1a48ae129fe9c49748d55788ee1c6e79f293c8bd3bef3c01e2b67b6d48e9957a4da04581a2b5b8a4828b07101783f4846a866768804b7bc61863881a4709fb0a55a4827c3071f93599ad8ec06e3742ff6b82dd810b59d5f3d290a24863fe218a8adc42ab0b37cf4b5830bd683fced69618ef67aa5987551a276788a060a399b7b3fa903f104ed6f8ee49916230b9263a6797a407735700ae87caa36fd6e855041c07ea6aac13acdeef47c87036979637fcff89b1d53d0d510f8313a904eb2ea59bf9d54f234adaaf01b5804ac128dfeeef6b1b10d062d2122729e1d73e4d4358b0dd0ba99095b4da28082cf9e7f19b39cc20f742402b787d71b86f953f9f2ceff3dfd265d5f95ea0791fd4658877e70ddf133e4b2b5a53bba1e1e54405077b25b96f46760dceb3af71885cff0ac20a0a80a4ae39b7083ed699fe4c09323cd11429004f951dd2ad05c8867fd89fc9e13822d510c2af4a4576ec93abad38d87ec526313991fd0dd0ca81dfb44bf0510781abdfe6ea8dabacbcc0c3bb4b7db82ed1f8de6c9c342841a4d9823de10d5d6a8669190f89e551bde8f56f2ea0f9b1a7355493feb16fd9bd0b512e452f92bc2a03d84edc422b985d0dbad1c9e07f13f1cfc8d3420a70cc446dc761d2ee5d206cfbf1bf0b37694a1f8c8664a0cdc36367c288666ad9628b1ca93e509bd26df629e5397752205626e5089f49556a47faf508484c9902b37e6db8ed717c651099b8f5e2e51b23ce848467bbd51e9f5bbbda486176160ed8fa4b52112869de2a516cd2856f81ed63937cc4efc844dd871ae93fe00d1108801894c931d72f0b2df7eff8eda3928363e5e94b5dc213328a118741c485c69ffe387d6e3b7405d1f824cba31fab80f6142dc2e7a7d110ca240ec7fdbceb78f297ce03a9167187d8d68396be68cb31face51041cf4f610267a03ddc97be4e05023f59b5101a10cd20c571f28941ec258c3966edc877964c925ff481b5a323fbd7a5199891fa3f456fbd222f7459d539d8634d63cd5701c3f4e58b0a8df20c2b1eb0c926739e5292164378ac80b8028dee3b159a39e5b9a94b100e8d6d3648e86f46729625131c708b8d9655db321110bf4dfc011ced6ba70dd38753f5fe9d630f0dd69d7b29364fae3721d021b8eba06d2808d6a0982b8912211f90d5667a7d895e405bc50a4092347c22db75bce7bf8b7ccc6d177d168349bc7ff5708a2201461b625f390f4139c1365b8ac06f55d0bb9c209ec227726d593e948b13e4aca29074c7ffff86c09b09b2151639ed87124533fa34854296852093bc8ae67515219533fc1e00009ecc6ccc72ab20538ecbe0538b63f848957c730a4904ad3b24f5c1617bb6104e997ef095b3f4bee3a5db04fe1492660cad4945418a60ddc1e9cc448cb7e3312b3641376f32656a60532c245b4dcbded80e0220dfaeaa02d36ccd77d87b3b66c31390c145a14f4c49b813f14a1811948d56f4719d75ea3a6269338203bfa29de1a378a25621ffe2b39b0895b9334fd1de0d4db30b26d91126e45c47734c97ccf38b706e05835b291f8bee297a724ca11495ba4689d85b04116ad2863488149703e37dbc22d865512672733fd5c1dd35a3f8d6975fd103d3247a4bf36e614975e716a219ded9c1b35d277c89a03af6af30c060113ddc35b68ae023c8b0dd7275e9472756d85f259fe570b1ff7f1470cf8d23ea715b1617cee6f2845acdd55557b3f264da5473ca0393b78b8991528f300d73312ade996f96dd857255d3e50bf7424d9ae5e54fb94ad450fa0792b6f5cf246eb8293fd4a5daeb2536efb1cc7d872ef96841598ced3e9670fc738ebd8875673f9652e652b6315ea79f95192bf54b1ece3717d6c489b74813274ab7758f1a723de79177e1450f8cf124fd88ec5d14bb274bab558d4b6b6bedd7adf6c3f45cb3348cc24f77e161a587df8d0dd23ff9e0521e2953bfe509e63f6f025366f8edb82f12f1f17daa6d6c3ad019af463ed70721715914bf10101dd663df3c29d506253010cd11212c3095b4c12905d7049d3c612e7bd0bf73a58b3e0d5e58f63bd3dfea1035ccb45402199edb97f1d1c544d38b8ddbd61075b73f67f3332e9603bd2682f22f108dffe979457d1c8267daaca29d0ba20a8fa4eda285d6ac7a83a9a29af9beaf83099d0aee3c0729b5c60c876755f4ee6706c88fc57e03b20f90e453807d5ecc7faa7a6574cf58001f191e9978d069e01e8939c40d3c1c187fbcc2f4ba0bae82003ef5b720a3972a8a2c191183db23e06b48f42d23dc19a50aa7f2932e8320b80cebd111866db5cc4c62ec6565aad899f5308d77bb6ba9692e4d25046570b91d7cc9a70c4c656df31b7207881162a78a78b98548193444425553b283b616821d34d004b78d43fdfcb978d9b365420475e5324fb4d7647672cf9fc7f682a90c81ba1f71989524c84b24b62bb1004c95f17a2e86fa048f25647ee10c35bff83a431aa489db9b0156696b73aa64af3e209f69b7e4dc8f939ee5932f5cebf17bfc505a7211ed695a1974393795863bb0c8497912f1a5e38b63e3a2fd5d6f8b75ed5fbc63a35bef7190d223a88607d737684baabfa851276673449b8c879ae2f8bb083f10900caf260f0693ca51f93263823c68ea1d37d1a0ae2fb09f62fa2b0aa756b43d7dcc085d38ea1c737c3dc1bf45e5717468d2805a2e85f20b68076fa3445f756515ca72ffa29e2ad3913c40d3e167f3aeff74a4f5252a0ac653f4d115dbf64b2402797f68bdc7c6f967c897fb443a0c395513104ecaac5de94b51a49a29a6de0958a3cb9757bfd6670572ebee16b1b9e8088a9290fae18cce550c42987baa444c6f98976daee36bff1439aa66fef2760e40c5bc2fd0f622aa28b8767c38988e1aff00b6c2363458f5c5fec4f12038c6344da6e71938a1ef044103f155caa8c1f6c1bc56c04583c0787003e0da8488d61fded9899957262e050372c9611e1cc4dc89bb7188dd2d940bc14c9faeaf5189bbf6b02e79e35150a2b2ad761208d3606e48596cb32ee2d424cc33dc234d3b09ff526b3a9b8d4997a3e8c82208687c6dafd33b3fc46df7e8fa5c1e8db4f2cb014fc33868108fdd916fc9afab381350b1b2c6fb0f769fae64d358835d9c045bcaaa281ed1016c3518f490d2be3b44d6b3c46724e803d36d8cc5ad678412deb4de78a1c44b775987f9f2799a6b4dba92d05b4420b31a9c9bca20b97317dd52a92220b3c695cd29144d90feee3341f4536c1eaa9a7b574d840ab0335d1469b53b26abea0c39948b91ee0e73f2769f38f63cfc0e1e365a166586a83a5a364b468404c9501d6bada4a32454c4ed2d4c2c313dea3fc4a1de6638995fb8150be95f88d4c82c58d3fb4cdb5b6e11a50cc2b21106990796d5c58bf2c03bf173ea50d8904c001ddc3fe4f8655b30d69d95c63d50afa6ec411a5ac0421b2cf4300c0b22bbe4f9eeaf9bd9876685254c0ca19758ae075fb4dcaea277cab8dc3624b4da9b3f60f0e3187a1eaeca09a2121e3930c78989a4370e9dbee307c114a165edb8540dc2fa4bd707a889eaa9aad19c9ba2fcf3a032b5ee9e5a1dec7b367f74908bb7f6c9627e37cdd1b000854d6b06f4aa94d70858b3fd72d108c773ecc9b7cd8ad542438739691a6daf3aef48439bdd1074f16d5f334e42ba1ab950c3311e266a8ea8fa0de54e7ca8b45bdf1f25597ce19bb22a33725bf7cf226168859d440cf7b0a13cb768cb31b0d397a8934adf913f68653ef5e6e75314ac3c0e11174051c4859bf3f917686b4469a7c549d250703e0932c0ffced2678be8114530dcbe399de873b175debe5062c41545d3a7c27e2b567c677f08b3666ca64abb36ee149ea202e2bf4e1c118fdc700b44afb026b486bdf345b2ac0f831c279c2659b7087204f8ddb46ea16ec4d9d61b39a1fb06abc42c9b30800d7963a76fc5acf364c6463be233eed93233215df86caffd3ce32ae3afc01f2c82e82bcfc511ce7d1ef498d72552f6a02f057560d84286a908e36e685aa1fbed7c9aac65d02a8e988a876d704692e6c50fa550a19ce7114a343843ee89ffd322b960687eb90d6c508b93853e9a564e25fb1e0d886af1f85d5b6440cf1b589de405c172e034bb8e8b63a18e6daa678e9b9b4235f2c30fe1a7260a6b4368d0f702e367dc8d523bb2eba012a5e093825342718e8a1ccb312769ec379d61af57e8c0a324c79b2aa5bf564d7cef6087a42ce22ec6fb9588bab441570a03a4255e1f673f7e3252a7ab0090cc9e0d7c7fb50931e613991ae16c25ea59056c697924e02eea751f60e900818ad36149642b66496d0b816c585d652701feeea060965ab5249940f4f5e2c8b28f6df261fb3d7de73aecc3daa9c402f7c7cf1dd4a83bf1680a31ce5f449f6fca6cb9df03bad2cd252a15352f6ef9b445b4e5486dfd66e303814125ba822e6c268afb82b10daa2071f6fe7abb3259c21aecdaa8ee529233dd35fd0da8c420075328ad86372381cc99c66f56a646f2be2a957ecb5b9bdea389879d5f67af0d513128be17fc9b7e35910452de8bcb4e0fabc5a90e7187bf888ec0270b3f0a2405032e76066aa5d0671ecb9b27ddba9e61de6442f618810cc9f6acdbd45c272f3187e529b4b0949a65fb06de0bb08d42e82e9dcc0eb893505f729a0b49a1b2f430d9aa0d54ebe4facd054ffbb486023c53124ad1c2e06f7d91b1bc8b1d14f670f54a50791a9fef3cc9e17f991e8c5f46f6b65e8c2fa58c7e758dce2a1f3d4437c9802bb6208d802f2cf7ebfe42bc849a48811d15bb76efb92227324746bc066d745dc02617def10405bbbfca55e6b6dccf16ebe4463bbebc413416bc09dcf2187101aa2eec4b5bc0dec01596ded3d97a1c40f6a416fdb61fc97ef86be914d7b8fd6a6ee90f58e785da4c450f060d600023d0a85bfcfa606d2da804c8ebc89db304dce49c1c30ee4c2b7598276760f19de7f1a0c0854a811e2a2d79553147dca3c6013cc6b19f37b9e3d307e4f8b1dd0f4d2c25d0026d8e06b02da126dcab195971187f3d9f276fcee7a7e29efb38ca2586ccbc282812126329284be859c9a61cc78f6618bb5e7c5c9e6d7863e0676e85581f3b7479004910ebdb2fb80501f3752e6680fe9253f10ad5c248df0a7688dd75e1d0ccf1edec5097ea5b5bc6193c8916aefef4dd64dd8093c5c9891756efa90510e05108cf6406f3fe0ab367430f7140156b60bcb3a98a010c979a58ed68b4fbec6b2c989356ab18eaf31f628907159fe09a31d5a7efe860fa6e0f24cf12272b9f1fa3a4f612d2b912e1b09bfff5f8277d08694a5d6df8ad658ac3d213efb28f86e851a35cb193df230c19d8f80ff89c278a8a34adab61111dcc9d26da1b38042f99427a26bbf736b95105fefd245add1f574f4ffc178b5956d756dcd6f1f3bffea675d945c8c58503e9947a3abd8db86143a543eb475c94562e9f160f9a22f1d3794a91b2d31d35518a6a5d22c018f39ac0d73ee8433482e47afbf9a378f70697588b9eac3548e6c6afa2f87c0c0aef66c8263883d02647ab2cc2ac6ed15742abe8e167e8d77137cfa26dcc0faa83ad08f8714efe9670b1c4f201ee3777ff879fee8a895e95b3abef99485e5a369f9a6713990b49ec56baa0b35588a981825551fabd1ca6ba235803d3b20e4baebeb1e37a8a2fd4cfc6b256e8fad10c7787fbaef92c81c99951e4663244be34264318edde776bfd8d3d4ffb61cdc10586e9e658b2799fe8fab5d6dbe05134b03326b4d11ee8a0774bf8f607ff17197732e0c0e6fd091b23f354f3e91784a088a925988d93219bbc59e71c5e4b215111e11a6c2da475245f97a1ac34729390eb5c11624adb509d1ba4e70d3b92e6d3741c3e549929721230fb5bd04f0843e38c9621e01f03980aed37e2f7c7a73817184da90ea1b592a6f9ccb367177f415a701facfa7d0cb9bf70eb58d98f84de506da6caa85ce4d92ea46d046ef5a3e87008df6101338d66f3fe97a0cf9c31f6030b51d7143740ecf88afbe47bf9c8ef5331eefcf085a0b750719f1dfa19641273b411a019fcc6bd66893a10147b420950cf158e2065f76ec3dbf9db64f4525dc6cb1b6ccb7ff1c84adb79ef5fcc7185202d25a2f58400ebbc7ec3ba2e9d7fcec4cc8ac33110dc7039aac563c998e53fabd95fabb55ce86b533332d627df56d00b733561c3ae2a1a63d423a3642c43970c3e2785a7496bc4392ff3dd0fbaeb5600ea0878a28897fa7dded65b659db4bfcbd89d7aa7b650bef8fb41bd06b730eba3a5eafc168624ce454fcad0461145445b4ccaa73470512e9a7d90afd1262b50be38c73437919eb2f0aba178b29427c82b8def8009efa73dbd268672e7faa8b83ef4acb24f3e528ebf70a8e860f7467977683626d199023e820b7c0bc504335395d26dba2ecf3fb549a3f24ae08f14151815cd166f5e515eabf7b71b13f565b120e9475a1b48cce9ce0eaca114d3e9d018a76129569243828ed5fa1e4fd53680b448d7c6352cd4894cde4db57b7dc90cd295aef5ef88fe207d5f1e31ff823a6fd5f8d7e7af948059ced3d0e1148686398929930ae0550a11b497520fa54a5882e38d0ec31fca7e0666b19379c7fd502e06e44e3b5630a7e648aedb5fa602133d5145cb05d1c821907366249f53b4c684a9dc9ea1dffb72bdfb6d9f353f5bc00b3362a869ceefc46382af9313b1ed0e6df3da544f9fe103661310aa7b9f1d438ab4af9b431f70cf035f51c3f60512d6752a352bc338d89f740c3f18671baaf92702b67e95bd320120f1b6c4c7d21a02518c3d561c61cb955916370862adac0e38f18503d809678af830ca99258321d71fb63582dc52f9d46f38c27ba72e5f074d462453ef43227bede8f8fa13296111adb75c374fcaac23433691f57b5d62ef1efbba1f210bf482b252042d3200adff50913ae215a523c5b921e1d19fca6d477652adceabf8aeffa68d932afd8e212e052b87f1d4ae232faaaa5cedfc856e09655b75efb2655383071d41af833ac22986729b76ff95a0ea29be6d6383b2fcf03e054a4c3e95420da2ba0b1d00a43caf0ad342d776eae6d5f81183d7bbb12534e60710b64f1db3b3cbe0b41c1dfadbb1b94a5edec30dc5f27f79c27a23d546b327ea26598974c068652d103f7348d55182e92e96b29ac0b472256b3703e5172b092d1324a805cd71509c01914fc269240161d2a4311be991f11a32a01935cf3d333006d9b028ea8df205ed82c3c21117396b849f09b863abee2dec9ae668e03f4cadfe77ebf3a7724244bbb535e14512952c2551ce76c3a0d18b05c69b7a78d40dd80928b63b85b8228b0600083045824e9df360ca9a42849c411116728fde7fbb579645153c2b6f740d84958b361bae00f2faa69cc1b78bd6f21470945082fc2ad86db5c839031600c4b62a5aabf95e26be5bbf115b2f9e6cfd8ff97ed6b950d34ab12d893084c5fa286ab21c29cbb7c8413a81f980362abcdbecf8d2384140a367939c9953166a6a6daf35c5eb2bcde35915ea6d31484c9e1a831069fa046c572a930be575006e671c3c2b450eb4bd9e11c805bed35154e2659cb8af8c02fc67a2695e6146c28062dda9f592c1ea4d6f8b1f55e54a5f674612b584f3b63405083035f13491442a8dcc30d785715d1057836e5c31f0fbaae8953b2a251a41b509f3a75e8e3e8baef0f9e621efede14d38702725337c72b06c033ff8188d288465f113f4daf86a386794926d8cc00436fb0cc25f5b7baa51adcdba1e89819c9eacdb8c4dc1fa755c54fbd2142b7cd3d68d90eb7e1c08b029ecd4f8a7701584c11a95a3afcc3b9ae0d989f9cdede62b328dd7a6454d6f1c80db120959070aabf63c6b1b4b7043941ab15b866289c67702a415c406ad99fc8405e2ac363cbb1f59eb36b9923303cc5c24d89f168e9c0cedae9208662ddbe8b00795f10f4b531d4e33e431a019767fc328c43891f32a6398f5d01a9d8c6fd47b93e9a4eefa26e6bd40d115d7a12a0e0f2aa8eae5b9880f1d63f2f40abba362be922546090ec77c8bba8bc5f4dac0f03d909ed7a1d543eb13481d1682c45fa253a215ed14370a265a1d9b2afbcf8caab9a4a2c10308190ae1be366a2f060051e281f166916a07f987d5e4e6f9a40d747335669add4796fc2da67eab8cf6e3934c1bb06dd745baffd0d43e7e9f019ad09abe8f93e719e0e2ae29b664b5c3639c07e93b707e15c3a88f6041fb5060ec0412001e1843e7d1be579371341c31831493480ad247b7dca17995a2ce4d6316c7a34864261dd575c913ada05947e964c7b590985509cd533c23c025eacf53f78129f19865058b8baa50de949ebbb60777c0e56530a32f58e43faf1f77fbd6ccddf5fcdb558b9540921c39b6dee0e98ea52f14918006d0c6c168f039a554a4ce955590a20d819dccb03bba79011db80a3781f390904365033c8e1281f5f7db8ec4540575d8e82f3ab179a86782396fd2ddacbe4dc271ca32a73c57473c3c8f8fb1f7c7841a8f97bf266ad94fd5e72e890d7a837a1b0d070966063f6a22c9227f1fe055325f5f07729c6f76d430c64513c48f681b4a7b5ca1af74237ad38e5ad76b72fd3863f5099b0623d97bcbb5158f5e54e28479ddcfa166994747231656c9b6408e735427493997b346c6cc0cae4d00486902a3d6a3872ee1dd686338dff6ff57dea323725e5829c3546f9ac79703ddb68dfe41b2761f1a6336c98588a3ebcb3d2db9798e834681396f2052cb7938d83b44da5b81ad2997fcd0770ae457893725f92a0d3705fd0a61407d1d207e59a7acfc50ab67aebea2aa3b263ffe9689ab347b2bbfa0a9a7469aff63e8b0c73b98850f15af90223311caed90e2b5671ae8748886093b397cb38ffac8f5783b412f9620493d4de0c8c0551a4fe12d8bccbb96c31ea4aaf367d61e21d8107b6079d1d4a3c996dcc620607e444294a9beb64a4ac12464b8ca9b65d9b1271b417fac85fa91c165e8ba42c783a2f1f43a1eab3173a667f829eddc4ae8e853529b3ff954c0eb10dd1b05ee7b1c46cb98916c51d84d8c306334a22d2e60d14caa470626e3baf48678653402b7330ab7d975aa83114f2caac349832ab491178aa4c5edceb42ba276dc097466cbf5eb1fb6ff1fea47cbf6a665667edd450b2ca487f4cb42bf0432b7e5840536ef63210164a27f8d345825446c925ebc0e44f3c886af759840b1b8a0abc1ede27ef430a4e5dc6b8f4c559d5d982f83df79e2145406d1e40b3f704c60a9b090a9f62e0c0f687a2d81595d514356d3bcb786916448268d4f050f90a3340a9b808448af89355d6d7a2cfcbfbc06377572ac66c65a1337eb55b98a7d55dce1d975372b53863820707b9fe2749f5286f58bd90336edb4de8db3cc23c475a754822b4ea426d50608acb0b018b0b4227a74cd1d277920b0d2c8eb3fe4aa7c9bbf8b4030931c24d1f083d56ee2ea064a8d0f6c270e58a1062cc3d70a372cc01a82749b6e67e9473e0a5070bec5090de4b4a9baf3b12e6c02f2db86264910dfd5b41f3cc4662e925af597f1e817e156cb33d7c062b4c4273607f42e0105ebc8fcaaf08241b67e04b14c02c8570dd90182c3aec31e41067d708e51a007308cbf3ea27afff00b38815ea6a5a7dabe7356c67d5b63f6da219f6c8004f7d3029fe1538c1f0c001a2d1c5af82dccb0a2f399af96817e816dbf48ee1cb82a546fb4d08de277c4f36aaf7661742cbff918face690528b0e8254e98ef5f069b228949612497fcd1aac3279b4761e6d071fcd3334e1d4764afdd0c961de4cadafa638d0e929f3d6f524ec73c422e028676d9fcb26dbda57919441946ddecf62b237d2dbbb8d4642fa2ce8f137caeb63dd7adadc8495e9feabf0fd4a08a4e1914806f3ffd4e3b8d1a3a5ae2ace460edefecfed3b2ad3a108bf2fcf2475dd493724e2a1b0c85b00dcfc633eef6fc93f70e8c18adc9c352810175bda16ff3f0ed2e26983f3235126f2abd978a85aa256889e20a4f40dd519f2f5a6fe5a8eeb0072c10ad1a6607c9fd03a733521846815be12ccc43f0434f28262f82776a3ed21912bb5a6afacb85ad437f974e436e55be298c078d87ff0ee6a763ff346838f3aad9353cb3928d9af682e19241cb3b1ff180596484e4a2182521a20fe76ad7f18a5354511cd34275bb9c41e74fa0848f765c0d059ce2d9de8e08eb149f0a8ac369cb13ed57dfcfe9f2ac0707f848875970f27cf0be127b52c402709f4f2ea1f9af78990392723c3f1bd72759293738486f32308cfd8bae41fd880b25038d5e231370aa4c654a07a19e57f788ff48a60a29cc18121d23aee35129ac6ba8de6ba38be59b9605e587ca1ce23d397dce0587aa4b1178dcb5b1018c5295cd10e4ee1907857697b3737141afa445a0604b797ec8ad8af25bc37d5972e39c6a16c280c177b2712c09ef4313482bad98e9243bb8b2d16a24b0c3c9e2c9ecab82f68c813d520c7aef1ff6b759dd8698904373b32d9380d3530b3988eb962eba21d99b3a1a508d514ea675914021733cb9044f18155ae761c7f31a57adacb4928528b48771f7ec59b0bdc1e464a62f1da16c8d2365df9c18c0f190e536af301deb29f25ea562453fd0601c778c5cb37cc84cb1bf959292f49365c17dec50beb44f5a3e36bc2777a6847b184bbc3266651ac5b8e3487d0ada9b9bdf9cb13baaffc9a42f6dfc9ae8564517ed51a2792c7362e1bf8997dbb5b4adbf920fa415d92fc211e8db278720b3e0661eb8b8353cbc9b20919a0b4a3bca40a31c3ba4466d3f1f31f428dbaf4dd4273bd2156bb0986b20dc751118799d16b0eed6b2591271be2f5a79fa7deefcfe8bc042b8c72aab6d4b9fb661a9e38a3481a01354b414552ed097076c6ac54ba807cb48d67f9110ef9d087a1780513627c2ad41fea56eee926e6d6c591fa2c2e40b0f196d50903d4604f9d21b59a427fa6bc544128219a6d863f92a6e9a47648cada869f623dcd3128e9670e1c3f242fba73da195cdaf8d674f1f8be817816b39c3ad335485484bdae2b42ba10612aa503292aad0b1e4ca4e72b2c2fa62177a6d0125d8911eb447a90d3fe3160ff7e741dab4e54c013d1d03c1c8c3a8d9a3e34cd9fb19833973daddcf5ea04a1b33bfacd91cd249eb108bf6eb9016f46bae88d35383847c0983e1cea6a34b77337a7a0f4edca8f7bb59ffe7a4e190a23341b80801ef093e5d46e57c9a18096838a2a9fb6e28db8cd7472c9a35d78440a88711b34a931f5c1608b8d348524f5955f11d6df0e0887a3cb10584b4687338977604ff42751cfab5986b7681420f7bf9400d8f1ce3c5aa93c91529962fd385716873f478e5532951fa96dba130af46543b7c64a67817de41ee5531c74dd4673132afbcf586f2ee1bc5f623c641fed1cc3abb800c32134302d6fffc683aaa0e0960ed577c7ded019dc86bcab11900a79828f60c8bf52a37b09f356545ecec020d653cdc5693b4b0ec65e64b7a4d136baa45d9829bf5fb2de81235e8694dbda7cf278241dfcbbd9161dc75eb7ec6bd4cb58a68e60fecd7e961cc9396fbe819d63d576cf33f753db55cf767e3c604da81e7facb75772f9d0f64542e43939f64facb15e7c89a00a519e039f0d37571911c9abb7b74649b757d67ee0a0d0fce82b5966dbac906c6c0faef7f00d87ce6439df1ac79bd53fa4dd324a81f025b67d5ffc2a3aeb138a92d2c8e791be9c14cadaa0d81f2c3151d246bb2e5b72813ce7fd3d8b0d61abc37ca4c3854571320b9c2707b0d8e470b889d3f6e77263ef73a59fed2d8bc3d0f99816df85cf06d1a27cb26d98a58b72e613720c3ab6c42566f23b50458919abe2bba79f3faadc055937c02b38accca4e14402af732edb1a6a8ea807f1af535a9af3f4678340c5946cd21c5776a47d59bdda9d63800d7f5bc5836d48a8f0ee36854204228aaba354275758753cf0ae5f32d4f8d1d86938adb41bcfb5d47aabbe937cd15d4cf48b9354bc13e6312389246ef48518e5c7ef4431333e56295b551640ad5af8c403356a5d7c5f034307d83a62e3ac7136dc50aded48edb25685c0df1252a82fd973cf0d3d9cfbb0ac18f5efc99555b26e4bc770ab5c3e6dbcf75d24a84136aa2977ccd2c1204f9fecb4e4e712de1a5a3f9c6c693b381d6fce6e3e300cf3662ca9874a5d72a8c2141d743c2a71bddb64cba8a860cc93bffe2514ca2e9a28296e8e231caccf5c3dd05a11f94b47d541da31aba74560a8475fb3bda9d94a4b3fc2b1fb7e206694f72eb44a26be1f317c3dfc0a2423f7d843dc459362a2b9ef60a87648c4b2b1203a5cf8f65684c2b8dc5d4032368d2dfbb1e1832286e659e6874fbdc89c5679402b62e3a5916b2986e65d636a16eaba03da6dcd6267c208636a9c01b63e2b21d27b75050abbc1594aca967a8effc7a0e514afdbc2ac2399331aa75ee865b99acca3afaf8a9183835236b82aae5054f3d04ed6e93d228d5e851ef13ac4c97aaf33c4349a2ac1672d7dcbb0cc1498cc80e927b2ee165830494055e1ff81be32803809f4566faed47fd69dd2b785f5e2623b5590755a30005678b56ffaff29155c5cdd09e53743bfe7b419be6f26da4319397437e890c50cf85f48754cc78fb2638a6604aedbd55feb3a88fff9274221929b3a0b532a82daf5b013e4a778eab8f437f5b772a642e1900b63ac6c8e68b6cd80b88d9a6d1e02f27b9739e3ae6956ae2cc17fc94fc68fe20343667c536502c02cabac279dc52fa0e12c90fc64d9f657d64a29a7ed23b104a6c76f166c289638a5b79b548f2715210f9e309157968c78548c8af7453bd5285658d4bc750a7abe82d94423d10adc633d3af754eebc08a5dfd4e44f5c0a3896a31f6bda7f1eef94c928d815e97133022c0f36c11b7e7499d88dabdf2899784961df567fb00624639457f072f21a6b7dde0e3be93f8548e12eb91362d49dc809c892d13a17a9d77f7b9c9f0bb0a8e4e0d64f143c59796a3f88c2a5ccf54d29d29f02d96e9e1651ff72e1bf13abcebe0ba68724c000442908f5e38c3eaeaf1d211b424b4148103db708f85bec8da2d519ce107fe1de03a54d48e0d273049ca347d3223d4bcace565c4dbe3a637d3e0c5012c8f09b047bf21f87fc6855f8f944911437dd84efbe367a0ce610c8389e4b3ae13ec303ba8b6fbb985201de1d4ddbecc4a85edfdde8f735cbf6138fde7f3bbd2bd6ae20ee1740543d0197f87be9af9a851898855d8597479746398a727a02fad0c80e7311c2c17cb7fc9e643a5ea0aa4f927a5b4df39c5b2ba075b088f3893ecc61de304f03479d590d78dc608898e8a55b290c8e3e81aa1d2849fa02cc067c09bca3a49568717bf2d023e14cb7541b705eef01da1e3069bd54b529c13168d9fccdba9fa3f96ec7f2eda970c1a1dec1f143ab3c78d6b699c17cab6eb8cd89c93f769d595269ccd96ccc1f3cb00446484065e22f3820a8431100ba6d1cc2f5901fbf8fd4a770aabb34a31d16865c171253167aa11b2bf2d232a1b337c842a4cd40f428dd173d17dcc40f2e56f5afbe1169b710b5c1ab58f4c5170a72f87b74eb9a72336138ea5a932263a1165a28f142566a87983847a4bf2157a2b1cb6bbecfea3ee7cd96e9b9881f591812b6fb8ba3f9292cae669dafc3df8ff1975537012964e9be1f6687b3413b58173b8d381e6b4063a524681f0dc2bb65d67507372090a9440c4107596a46d193e84df46255e5e2e9a2cadd6e563364b68d10f018f97a8fa91e12a0a295ab71cb9b6013d77f56a2998755ac10816e023d1337cc1071fcae709172b4781e67077b2d1f22b33aa5a5c87f0fe2e88ed6a87a2c85ec4266533b60f129198d512ace3a00b16fe274088cefdf7b53699136286f78e4c708ba64d737d52cbfb28951e95c2835f0e2a355e35b17b0beeb1cefa9191cfc9bc4a16dde22deeb341724c5afcbe5215c133bb5f2f9d3cfa4ae76d9feefc952b611fbce4ec2e049e8b108504be8c6e3de71ddc3dbe40894209e93ab4b25f6f7e187db5c854936c0fded9157a7100f6e6d2a10106cbe0557e643791782ea538fede008e24a2cd8e54d91dcfe98f964b94613729dabc4344429cd7b2291bfa2c7c81ecacf6c50dadb04a7ea3534874f2ca96a29f524d97adc11971d61e7b75b0aa29f779bbbc90596eccba082b2c906f61cece1f647c42e117d3d74e13cada0163c4c852ede9c37a09c069865a96bc03c48c1c0211596ba630b2a235b9968e2906db62d6cbf86267235ef6df80b266bf8395c3642d19cf2ee4d8a9b80ffb0e3c52bb0f3635dff41b3dd4fe29fe29fed6ae01be49a5ac8f4b7f71bcdeec382ab3042716e1909d556f62ce49c03d1002d73a9b2a1ae97fb590e610837ced5194e7c8fb09a994473ef579a31c90e6c4c16d187cff99cd820854923addd9feedb34b1f5fe19af0f2bfd20416f2f72e91864536da9809b20566d8d2d605ee7221f104abbe2dd5bb6db8dadffc3a9b5bab64923e23e0c7a025a974e8e97dd2afef9a1528ce6c86706d74380d5412f5460afa288ee261b46d41b5590babfc2f9a3dc591d13781141518c5685fbac1364a21a31cdf443ef3c895fa5b6fac107efddc70efdefcf08baaf7eb7a238ee91b9c473a8256d012636cb52bd8421f1904c98373c4f9411177764c5bd4d34f7dcb6d866509f7fa58aaa9f665f108ff7c6f2137df82801a4f9b83034e92d65b6367defe58859107b61c32f7c328c19534f9fbaea30bfbc8ab2d85dbeaf9fccd74615fd7d15b5b55d921ce90d448a2deece6f694385c6b5ca937f3540053f6550b0ff0e417d0209daa48a76d44c2dbaa10f263f1ff4db4b11b9274fa01652abe47a4cc420add28ce2342d9b54bb9425f948a45b47c831775ed8ab65c341b9afd4fb30655fa38966ce1d098031b00895255120332081f3437bf58f4aa8c60e978e0fd9a566d88f85ec2bf406fe08ecb56d8631e1b5bc35afb452228243a06072326c55857f57b2dc2abe4c34a602f9e6eb01ebaa7e4501e95185aa3ecd8c60a5f6fa9709c50558787436a999d407de71f959ee3f28e13bff086e78a97746a19833b37eb444eb2a44c5218eb40759663d0103cd721cb3121da21e761f7819b4ea007cac480c31edc25a93fa4216eab43cff4ea648f5a9cb917b34727833b55530491d15a5e8e3e0f184cd808b538026830b9e74bfff6a133f5eb355797bfcc2fbf97d5cb0ac2203106c2866d1bd83e679b78de5abedc6f58d4a24be8d2eead423f1bdcb6f7245c1e4d70bc5b0d9a221ec98093a39f5ccd3c1cfa52aead8fe1eaca5636ea6bab259b69b98624416eec4c2d0b152348215ac12985b29f7f7591f36b25788fa98030e626ffbf5cfe939039105e4e5169a858d7c6eed7fcaec6c9dbb46f0270612e25b53f4177a1cf709615f1c9642d65edb1b9a6e5acc22c6bb579c7e01340912e861614a44758f44ba5ed0d7843f5254bff43bd29b54ff1226f7b7772e2016fd5d0f1f68f85a242b43866cc1e5359c0d8eeb489247552ba248aba531290a4cb45e201684321dfeb03126cc8e1987004a9c6ce563bd638afc0031c1f2e98ba58d8e13fd65c666e9565b458f0e5bcc4bbcb4ccbca2504aa7a63724b243a9171c15aa9496d6a5d0bb5d79bd1b861c600d72676aab22c4a0ad40b181a1645dff05f4ce39e37be5df46216cfc8d715add3b8e3aa86b1c9bd55b56af749003d36aa9df2cf941c2b1d4b2bf73030942be14fb87b227c15a27e562e5513c3a83911e6bb1a27c1e940f3029e456170cfa57d2a3a323784d4df1f8e57f54d4f519e8b4794e5e0585ae013b97b444536626a276b21ffe9ce67f0f333a66db7e50b5ec04ced83ccac111abed3c4490730c737591626eca9f3df644451c0aa837ee9e59e7fd8e7c1be7b42dcca10edebe0975ec73c411234adbc5b86154e6fa80d8c1c1546176ba56b733f73a6b387a701295bab63adf1dc61a857545e4c760b5999b3b165c5b7837cd568b2e8972c321d8c942c6294d2fb4da905a5e704a371377790060cbe65f2ca4f9cb7ba7751313a95c65e81bf92c2952de418c1484d31558ad748870a12cc4b6191cef103ff44a96c6babac48d2b10842483a675757faf6941a42e12b1f0bd31315dfa0704eb009075a132a5a628e12a2fafedaccf8e52dd1e9144780f220f677de1da033da1dd697d4c38ed71bb9312d46df9ccca99a68af3fb43a9bc7d5f2e314ae24b0339e38dc918527416a197f638b1120e090b39aa82a87ef416ac20fca3395c64e884eb139fa73254cb813916fbaef5ac291a8c52633e1a88ee47ae5915f18536f1b31d8dc24ad2e6719f254aafc874b920fb0cf327b110353690e4bb6746617f8f82439d862c07c4a983a56c583343b07050ac7bee3cceaf8a0ef38f9a47790e92c1522f640b81eb4e87daabde2caeea2900227f8a082cca5cd24e02c7d05cf982a41ffdd67162629abf9ca480d03bc03c01c8541a3730faeaf670da59a09cc5e73a2a930972f5eaaf956ad8017d17d7b5a2ee43946b9fb5370b680898e4689a2e8bb51002d141c80c854c7652dcc08c68bb741184dc7782a60d38a1ae9d6ac8206fc9d804d87c514b63a6c3b549bf0036d46e7335cbc53c9feea67cd5667417d293491abc3d38073a3f6e55f791ae60783498399e14621ab35b4b796a7951c25fb8972c2fdda49c134e3c24fbffef999645f2ee5a448cf165606e433f7565e95b380da72f3a409a29b5645517297be9cd2746dbae78fa7f063df999e94ec845eabfe047468b960c9d1704097a99a5ce0c2900c2f4c6c466360fe850a814fd6c8f2aa9113445f6a29b4c486ae10aaa038171b2138075c03ec21d1ad59f2ccfef2710bbea9ba87b8d3ab94eb5f061279c3455309c405f1ca7f9564d28be7b197ba5d90c86a59fa1f91ff2f4af5471eea771869ed1893e72a87868097593ffff7cf606c2b1c0350f2896c501cbef69a86209bab113e350abc6f19f38e849c547e54d185042dd27fbaf50c41e5649edc9d4fc96f343586dfbeb106bcd91287409f89599af5b1f20f50fb843db5a7613226d8def689c5435df20f4b4162883eaec7f79fbef5ea49cf5d5eec58762babec8f1c5e176fc3e01c3a76f653a74e82bd6c60068404120673e397d7f05e98a64709473f7bcecbc1bf7ecee74ae9cf4fdbc0ead371c7286161d9a715a163d0177ead143d5b46b33b8fda7275a69b6c16b7966ab1c774ba18009aae7cd461752e72fb55f571fb525f3874df049b5c7a819da6262e1f42d76c278f4e4b5b489d2fde9885b6dad2b100c16017b48f0e423c3f24f4ea96df1656607af9550808e71fa2a573099503de514dcea0641494ebe3a022725f0ce0c3087c8d8b70aad494eccf61ac3e7ec31bc3010a072b84a4c91568e8a1b6700cedd06f961ad31f9e2dad6b37a81a6a1c1056d602d76a5fb939c94ce7ec7b18a9945ff346fb069d731ace7616ac390838585ed62f32e9956a8f89c902fe97411c05db7ccecfd5ae72c7dd4971c0edfb3877cf1112f0a0b23ec14417ea14dd6c7f6b0e785db6838743f1b","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"626f45314ad01a456c425effcef6e776"};

    // you can edit these values to customize some of the behavior of StatiCrypt
    const templateConfig = {
        rememberExpirationKey: "staticrypt_expiration",
        rememberPassphraseKey: "staticrypt_passphrase",
        replaceHtmlCallback: null,
        clearLocalStorageCallback: null,
    };

    // init the staticrypt engine
    const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

    // try to automatically decrypt on load if there is a saved password
    window.onload = async function () {
        const {isSuccessful} = await staticrypt.handleDecryptOnLoad();

        // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
        // replaced, no need to do anything
        if (!isSuccessful) {
            // hide loading screen
            document.getElementById("staticrypt_loading").classList.add("hidden");
            document.getElementById("staticrypt_content").classList.remove("hidden");
            document.getElementById("staticrypt-password").focus();

            // show the remember me checkbox
            if (isRememberEnabled) {
                document.getElementById("staticrypt-remember-label").classList.remove("hidden");
            }
        }
    };

    // toggle password visibility
    const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
    // these two icons are coming from FontAwesome
    const imgSrcEyeClosed =
        //Black
        //"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
        //White
        "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIgIGZpbGw9IiNGRkZGRkYiLz48L3N2Zz4=";
    const imgSrcEyeOpened =
        //Black
        //"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
        //White
        "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiICBmaWxsPSIjRkZGRkZGIi8+PC9zdmc+";
    toggleIcon.addEventListener("click", function () {
        const passwordInput = document.getElementById("staticrypt-password");
        if (passwordInput.type === "password") {
            passwordInput.type = "text";
            toggleIcon.src = imgSrcEyeOpened;
            toggleIcon.alt = templateToggleAltHide;
            toggleIcon.title = templateToggleAltHide;
        } else {
            passwordInput.type = "password";
            toggleIcon.src = imgSrcEyeClosed;
            toggleIcon.alt = templateToggleAltShow;
            toggleIcon.title = templateToggleAltShow;
        }
    });

    // handle password form submission
    document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
        e.preventDefault();

        const password = document.getElementById("staticrypt-password").value,
            isRememberChecked = document.getElementById("staticrypt-remember").checked;

        const {isSuccessful} = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

        if (!isSuccessful) {
            alert(templateError);
        }
    });
</script>
</body>
</html>
