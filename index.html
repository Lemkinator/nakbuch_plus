<!DOCTYPE html>
<html class="staticrypt-html" lang="de">
<head>
    <meta charset="utf-8"/>
    <title>NAK Buch Plus</title> <!-- custom: Protected Page-->
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <!-- do not cache this page -->
    <meta http-equiv="cache-control" content="max-age=0"/>
    <meta http-equiv="cache-control" content="no-cache"/>
    <meta http-equiv="expires" content="0"/>
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
    <meta http-equiv="pragma" content="no-cache"/>

    <style>
        * {
            font-family: "Kumbh Sans", sans-serif;
            color: white;
            transition-property: all;
            transition-duration: 0.6s;
            transition-timing-function: ease;
        }

        body {
            background-color: #1B1B1F;
        }

        .staticrypt-hr {
            margin-top: 20px;
            margin-bottom: 20px;
            border: 0;
            border-top: 1px solid #eee;
        }

        .staticrypt-page {
            width: 360px;
            padding: 8% 0 0;
            margin: auto;
            box-sizing: border-box;
        }

        .staticrypt-form {
            position: relative;
            z-index: 1;
            background: #22232A;
            max-width: 360px;
            margin: 0 auto 100px;
            padding: 45px;
            text-align: center;
            box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
        }

        .staticrypt-form input[type="password"],
        input[type="text"] {
            background: inherit;
            border: 0;
            box-sizing: border-box; /* This ensures padding is included in the total width */
            font-size: 14px;
            outline: 0;
            padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
            width: 100%;
        }

        .staticrypt-password-container {
            position: relative;
            outline: 0;
            background: #393B44;
            width: 100%;
            border: 0;
            margin: 0 0 15px;
            box-sizing: border-box;
        }

        .staticrypt-toggle-password-visibility {
            cursor: pointer;
            height: 20px;
            opacity: 60%;
            padding: 13px;
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 20px;
        }

        .staticrypt-form .staticrypt-decrypt-button {
            text-transform: uppercase;
            outline: 0;
            background: #6989C9;
            width: 100%;
            border: 0;
            padding: 15px;
            color: #ffffff;
            font-size: 14px;
            cursor: pointer;
        }

        .staticrypt-form .staticrypt-decrypt-button:hover,
        .staticrypt-form .staticrypt-decrypt-button:active,
        .staticrypt-form .staticrypt-decrypt-button:focus {
            background: #a5c5ff;
            filter: brightness(92%);
        }

        .staticrypt-html {
            height: 100%;
        }

        .staticrypt-body {
            height: 100%;
            margin: 0;
        }

        .staticrypt-content {
            height: 100%;
            margin-bottom: 1em;
            font-family: "Arial", sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .staticrypt-instructions {
            margin-top: -1em;
            margin-bottom: 1em;
        }

        .staticrypt-title {
            font-size: 1.5em;
        }

        label.staticrypt-remember {
            display: flex;
            align-items: center;
            margin-bottom: 1em;
        }

        .staticrypt-remember input[type="checkbox"] {
            transform: scale(1.5);
            margin-right: 1em;
            accent-color: #6989C9;
        }

        .hidden {
            display: none !important;
        }

        .staticrypt-spinner-container {
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .staticrypt-spinner {
            display: inline-block;
            width: 2rem;
            height: 2rem;
            vertical-align: text-bottom;
            border: 0.25em solid rgb(128, 128, 128);
            border-right-color: transparent;
            border-radius: 50%;
            -webkit-animation: spinner-border 0.75s linear infinite;
            animation: spinner-border 0.75s linear infinite;
            animation-duration: 0.75s;
            animation-timing-function: linear;
            animation-delay: 0s;
            animation-iteration-count: infinite;
            animation-direction: normal;
            animation-fill-mode: none;
            animation-play-state: running;
            animation-name: spinner-border;
        }

        @keyframes spinner-border {
            100% {
                transform: rotate(360deg);
            }
        }
    </style>
</head>

<body class="staticrypt-body">
<div id="staticrypt_loading" class="staticrypt-spinner-container">
    <div class="staticrypt-spinner"></div>
</div>

<div id="staticrypt_content" class="staticrypt-content hidden">
    <div class="staticrypt-page">
        <div class="staticrypt-form">
            <div class="staticrypt-instructions">
                <p class="staticrypt-title">NAK Buch Plus</p> <!-- custom: Protected Page-->
                <p></p>
            </div>

            <hr class="staticrypt-hr"/>

            <form id="staticrypt-form" action="#" method="post">
                <div class="staticrypt-password-container">
                    <label for="staticrypt-password"></label>
                    <input
                            id="staticrypt-password"
                            type="password"
                            name="password"
                            placeholder="Passwort"
                            autofocus
                    />
                    <!-- custom: Password-->
                    <img
                            class="staticrypt-toggle-password-visibility"
                            alt="Passwort anzeigen"
                            title="Passwort anzeigen"
                            src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIgIGZpbGw9IiNGRkZGRkYiLz48L3N2Zz4="
                    />
                </div>

                <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                    <input id="staticrypt-remember" type="checkbox" name="remember"/>
                    Nicht erneut fragen
                </label> <!-- custom: Remember me-->

                <input type="submit" class="staticrypt-decrypt-button" value="Weiter"/>
                <!-- custom: DECRYPT-->
            </form>
        </div>
    </div>
</div>

<script>
    // these variables will be filled when generating the file - the template format is 'variable_name'
    const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
    const templateError = "Falsches Passwort!",//custom: "Bad password!",
        templateToggleAltShow = "Passwort anzeigen", //custom: "template_toggle_show",
        templateToggleAltHide = "Passwort ausblenden", //custom: "template_toggle_hide",
        isRememberEnabled = true,
        staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"b1e4e9f2577c569640f26afe68da5ca95fe04c0f4f2b4030bd844e3a673a2f4a1717ae94cc7c32b0ecb91305e4b152466be28fdde53a386a134ae56612fcfb687337f1c583bde7d7ba5e0b0109b02525516992fb8a6af526e0b9eddc0414e4d005a75f736ce2eefda4c904a6c70ebc9cdd2c152d58fb4fce84b8e4c125199ffcf77dea1b1c5299ee0a2b7e53185d804b5cf070a7b4e8ed9c21d407bdfb41c4770f4befe00d59529067fa19ccb49879641da5265642e8735e6c0b0698bca6fd9dff00b232171043b56dae4e7faa9331ea4e79ff70055f3a95712b89065a680d280679d9af2392f45d089c0a132f677d0545d3bb2aa542d48609a3eeb3a086a3506d9d369075c99e67b90be6d20230285a465854d1a7de3f68a3ee138ae0e19205559eb7a490c04cb258cc5b9d04cabdcebfaa0ca81e74e8b9d1fd762f1f5b3ed5d6e17032747d72b9be9cfd4dcde68abede12ef1508c8c55edeaad74a9272e1b97e3e19ce176b48ee2971a2eb632ffe057d541efcfd6e84ee05d393b2fe752ea8f513f66da148dae5c21842b7b9fc7aa3a4aeaea76f95fc7ee55aa74b1c9f3aa95ec59d314de7359f054c81b33ad1d17743c275033f0ee2eb042624357f8e234a28f2ac2fff292ef4308af7ab52f812d02d237d951cd988c81de56b2201ec6d38311fd9c88543999873afa50090238d50059236acf7e0200b6538bdac051166935ab048ccaf313776704e39d12b983dfbdcc87f146afe9670985787a0838c9482aca807df28f5b8d8a4c9f6e8e7d2f728ef55da6959c9c238a3b0f4375b23900a5f8e17f89402f6294a0a2e5fe9f7993353f85d8f656c7199cbe3be28de974b672371bba08827332075f6a3fb0959332a43946b9921069f7e300e716cbde181836b5f91e00ef4446bfd49a07f6073d025b5726ad54a96cc3128b5ce1783c7585fe832d5e987762f1770093725607e4a138b87f16430f67cd8f96aefec9bd54bc7cfa12c3b37e76f3d93240f6fccff9b0d0c0b479cf0e2f74fb14076d76a273e3ed64f84e97f653237c27fca1f77cdb46d59be3b7547ab567cd58162826e0e5b6010b7ed8c18473527dcd5dc59be8741833a75e558fde2d9e1b3586315d1f3f38174336309ee53d4de8fe2d689e43ad7bbc7306cbe26bef094438a399c2eebb1176ad57de0c514b4e5b6fbd94e57afa4821fdae553befb99a40d5b1408bb69001f66f6a33e88c24c525c271fd0f7949e760fa6ccf808881930153dd2b1d441d76c06b5ce9bf9e4ddbadbaf1368b1b4228c80af68563894432eab0ebce807e1e87c317649749ae62371abb624f64733ffbe1b41153b02f86529ef73e7f91d8dd5375a0f969779a2cd9ee027c0ee231f07591b3b4e85460cf6266873cb0bd128067b53e5fd7fe8a25250d98aabb593d264c7c2cccd1e0d7923a856f7b3c9a45265e61635acd2cd540984a64a369ca23fe71abb9d49aa829b81e6a00d32fb3684ef8bb47c54fb3b7f2b4683cf05035a1d59c7b7d3aabbfd7db326404cbbf8b883868f8fbbb9123d0772d5a9b14e5819b5d5bfeac061b84394921dce301f2bd82cf547dc347fc6cbe9da48a46c17625f5f4eaa5602e8141a1daa1e496e8232ff0fc5bdd3c60fa7014ec6a1fc78c9e61b0a2a151f8920943e8df891ee11d07d38019b6346c1367a500a4357699a49173b3e246a73c4661d24577b51d86487d5ba2c18926f606cc55817e366fd0bca61a59f42604b2971cc50f44f2b45e73d94c00adb02b2e5570b47f522b02c1fd40cd49ac06d56b2070c64d0dc838e75791768d1c4910159e12abcfee4b5cb25f84bf76e23bed34c9c30032fda97bf50e9e867829ce69c01b74628486b036dae58248397c928db1bd4cf6b76873410a17246f59a91c015c0ff2a6b6647f56d2605671a9d5aae634d368a51a26aa3eaad93e0a07276da8b629df141a8f0851b5f1f333b16c151d625bd12f9868f38caa1c29185f214b352fe9841562b5f02d507aa663e5e743f4886aab417a06e77fb2eba22d67e48da8c47e49bac1c02d5ca0170f8680d369ad4e9d8f6a212a744745355768800f6cdb27174d18c6bb664fe7458e137c4202f2eebdeff46b95b3bf765130b9641dbdf3d4b834db1bc1d7b13b89a1be72de217381d84510a20f5ab9b820f7af4d49960f4f0c2e0ce5bcd2f69bcf6942923c841e8a74e475f0815b52b21b4e2a3909ead98b6820378e5be51015a9417ac17bd141ed2de71860acee9550aade8dcad03236884bf8b6d5b6d07c95688a67f55d6e732a44304e1ccc6755196ece58dbc726e1e98c64f89cbed564d560684461ddf09564132f13170bbdeec36e98229b59e0ce181736ec0087bfe5e8bb18daac64eb6607fdd6fc977e0ad2d1e0ad564044cb4de3cf2fede46994480baef404ae7ceddc052b81fd4918b68774740038b26ca73bc381adf8441b9bc7f63d386a6983f62d39871c57cca936fdd00c85f51ccfcd7f41d656fa721983be68c3eefd168a61d40f94df59c18d44a63667cb347a625e9dfdcf377995817142738cf23493d223e316e93ad5dec2d387d5ebd22e32a576055bc9cfee3b6b68b70b92246d8a6cb0bc1a073f9e5736546de9cfffd8d8e7083da0fa2c88baa04754d7b0379ed4e41ed4af6f59df31a56832a8533c329d250347d448af177bce679b6b1aeff7d166a0fcddce6c5da7897f11f2597d378c23e2db2728a9fb19fadd6aee9ff34dbb47ed162dea6f5520c8ad598e12b5cd40621615e2ab8b58bb2094d019626c1ca1a511252d996a6430aa4635f1011ec8ae4f759df394de5ff06956eeee1a4e2dc67ec5f6765cf8e6a93ff4a26d38af9341f7391be528a765470aa50707bb5a752fd2c266bb9d5b03a0ee32aca011f058f0f3cc5df71be8fe072114389fbbc1021ebd53e33f7031302f50deaba1639d6f04f044861f15ae216161f300da85abbfd8a34c581320ba84a30d1c6302df42ab70aefd77e217c87720f3312b580a15604326ffab6e92c92e66f8473e9ac1d83ea2cca4c920ccc99b43234401773727924c5cf99b56b3e2e05e63cbdb7da98fe8549809c36cdb936d37887d213f72e6684c91ede5e09eb8215c8f3261969711e37ce3ea9b7f673dae9b5792dddf8faf4c4849be544469d907d63da0c836703f93682cc0c576715b82dce25e963a24ca6b7bc685eaa69c3008bae28b94bbd989de9ba9a10d8a62f713050bd3340c0b2101335f38378c19cdc66b9aa2a50f2d6b3781827e206d9cc1e00e5989da08dd24f9e9bd0d7f449fb2154ba22b2cb861145f88f9867f353d3941e11167e93d2c44847488ba0d46a8403620e479ce310fc29446a96410f1662b3fe5f5bc71c45cb9a0d2c0e2a8cb3883ef9d3133440ebd6fac9da625865d4d28722b405f25a74135fb7d82108c87d52f1b6c071cdb081703fef9eed43dc7413f0976c439960d728b306b85bbc2d4f5a8dcd6216b0ed3f88ae4404028c429323ffdb72d55b9d9a70f6c6d55361ad8423906b6032f01e45d6a99feb05bdae25789f1a5c8aee9575c86ecf950b91251dc6705290901d2d85e5c2255f51206b501fd8fde781ca8222ac306f8a246961b4308684d3823e2197435ee74da49e733eea6619c89ef0b1122e712dbc1120ec8c9013df528fdbd204df2305f202c54cd4ee2f06dcda596d449517c94199790d7e574fc88cd9ae7aff820fd1a4f30230018d5bee0125620f5a5e77a4752db2d2913539123c78a5d8d8a23e3c422dd439cab80ad8dabaf8571884e78a8dc6278ed11e2c8f37fc7dd99604007c9e1df56000c26cb672d7fdf2d4ea3857eb989aabe8d14b18ff3d21106f4044150b3ee1cde20e5eb0e0b6ca76ed003a9bd4fb8a0d7b9a059ab5ce7b4535fd167b68cf74c82a669c422d620baa058a2b949c1ad3dbdce7fe82bdd191ccc4acb898a4541cc64673a3fd42399f246f7b62df4094694936cf323b33dfbf81148266039e6723253d71bf4c802359c0a3275b3e76cbe92904bb42fcbc7533db704d79d5dfc4f149677f82043e86d8533cb402bba035f55e9c84cfe9145f21d197242e30fdd3aef228630db0cca5653a7b492153e7e0b5c74a708c57fc349b4c9377c8d3855e3f1630eb6612f8d7c1c619d6803208894c3797a590111ae3f00116b6186d0c8fd34a5551f99aa8a07db3f50bb42fa5f69b75645fbb2d7989ffc1d7a425276b49acbf5806e0595ffbef2e51b9cd9f69ed49b3e3d17cf0519223b525b3ee10aabb9b1f4d37a8ce8ed1afe8c7bb8ef3a8c8b397aab0809deb0f95310b6949beff33b365350dbe04d39654a287f82a6975bf4ed8406a383a8523b112985f7fc2305cd9a3c20893bd32ebe96ea196c8c66faaec715ec7bdf5da252e4fa64a93f2e64d337c251a8f112775d4fea76c199e311a8fa9c88b3dc2dc6f863b19ff5061b560896f725ffc35add0c36bb7105baee866cee2e169db605701013d1d1ce07bd1d364dbc70caa938d25b4d5fd2201eaa103cf7b920d1c3ba4e09a23bd5f56f39a80a146bb5bd2bd7f4f812e9ad4f42f18219ca92cdb6cbe36587b81b3e6a423ba05b461ec29bcae3ea8bc8218d1101384de0ce868363379801516337f559509e6e8b141cd54f6ef4ff37ff45239bd92a861b181f0da6c8a557ce9a80972b7852519ffd226cdbc43c9e7612c577b56a9b00d71fe96b9dbbcf6756fc809931c435531204e40141309cc618f02e09fe37a4fc24919ac1048d7bb9879a4dc926e2b2e884ceb6a8827cf0462370fdbfe73ced33f1733379c40babec5de787a75695c190ce3e1c96a2b88fb5847158bc1e27b66772218469d6c3de502894c1d593e3b595a1a4fec9f59635956316016913b1e135724edcc8770c76302f440b1d3a8d474234288f314433783e8e0dc5bc697926d8b5703b4102019d3d8001a7400ca8ebd0be65acce264050cb3763f38d27fef00163c74285a0e71d179ea693376e6ca55a9aca6b5f3c2e504578414364e2c6a1d5b50748bf55318be375ee18de9210485ae960b2b3cd45a29283b3fbc9974184e49995fb93fe54fc0297de03440978326a75f6c81108f20996ff7544fa81c39c527222af5c71a0c5e64fd7db19e3c1fac3ffe4d5ff66ed62a212a229b119b33b2475821d083f79822dc2fe19dda8d5ce55cbe4a489e14223d5ea2e4859531d5d25c9b88daa54beb5d290cf035549999d645b7e99ec124ba6fd907145cb7e763dd2c2cc2c3863b4f7f250685ab6f37cd5133005f00ffc3c1afbeb3f9db6e91837a28e9b56218a8d54ae5df445dbda480f666f4629132b968770c8cbeeb147fd6c106b703107d0adf1158e90dedcaecd16c15ce1cf20652f9b0bdbd0f86b6ca5fc2603bb89de5b33c5f3d10b13f5151275b8750bb7f17f70ac4ec235f5785dc04a2f495a942f5ba85623b296aa8e0fde96693f2a4bd99b0f763aeae6b9845d2c1b506173af9712ad54cebe8f8bfa8895c65fef2a7df6927c059344c4600141125e7b0aa353cf0a2219f1b754b910f8b12baf7318d0c0f8809552b5d447b18752f40f3366e23a5714815ca8165193e90780e29b4cf9565db9efed7e961e200d8ad756d87e5ff443966a45eb89fc596b2c8f70fa2afb054ecf118e4fd4590b9969ba90d71901fff7d83511420d2e94de935bccc2685a158d0fdf1df0f9cfdcb3f874611ce900becd996207f2171c34efb4d7c6f6d9397054b8a4621350ab8206fad1d997a84429fa56fc3aeeb5bd1b900bcc65862dda474434d78116da754f1ab41f689041fa34b3843299232bb8b1b0bd2956b6e00cdb34e36053def387b690831dfa255c9447ff891ccc11c4629639fe11d84448ee6af28b1acb6934e964aed48373c2ee114f3c2a6026151fd23b8db65caa1875f49040f0baae612f268f39d02d14678bbe69f213dec7a60adb7147d8680cda35214fca3cbe0580ce937575cdd17f1547d1fb6b580bbc19a0d77ec28ee17b19b871837000858a4f8c7f556b20e7ff8b4bd9b0c846cf9c1cc1073e12abf33de27fe7cd02ad007602b8ec0df750d8872b315fd9e8c51177eec72f4e9f1baa558998cc9355e139eac4f8ab699fe0a46e8dbe85806ccf984001f6ffa60695307762578440fb3f2dc9fc0e40b2f17c768ec498c5ef30b4b79813d9d836f090463d82c990942275509a424f22731d45d7866b3ad6eae73bbe6685f6c1c97b8f582c321b70ebad6d6415076a1bd67d54fec75bbf0dc07014dcd4aee6dc9f7efce1b27292b16cd751d08954d52f73e73ba8bcb405f512c1071ba1871b1823779f3a1554e14fb3d76cbd6a0882687ddeb6a2992800e7d59ad4fc7586a9afd3e68d78b9d31b43e43a30253e24475b4aabea5528940fa7f8ef83dec1332fc9ff4b0163b6a000571cf2afdfe323dd12b58b1b5083723b669d1a52e077b5f418e34e6c55369beacc2cad560033a0701a2dbe8a3303394edd170910b4fb12094ef50da5eb5f42ed88926c8fa4e1a0ab736bec38edcba9b7fda5d9dd51a9f743639eaf0f78e38ea00e832bc05dcfd8c581367e8077da656acf25482fae52c411320fbc93c51a8066fde28015fcb8f046a5ca744cb5e86d581c77153956a7c5b097c4431b269b7ce738eaf1309eafb7df9ba164ed75a56e3397ea9a6a2ece006cdc5d55b9b01351b071120b5ca752b336501d73a4cd9166a2d618c6379b52810fd8a48d31d5a13b062badb1afcde2a8e53342e6d3af1a9fe1592ed36e2619536a8338afbe978cd487eaeead3296f810768372967c59353125cd5c74713e50a860000aba7d050723ec3d41147e13ca839ec9144328d66760291bd08e87829c018bc6c41e9f04379301d39e3a1ca00fdcf295438558b53ecaebf1713389e793e08958323a41354a9307fa1065214462e8045ad9547299f4f033d69f8f5f3f1e600049f9d4aa6d91f1e9c57851a75c7d06324dcb7faff8f75de36ddc7d83125cb8e6911d069108e8b8f0848819ed4cf2c4f3d00a441b7e6cc2104054b7d64d440073c51fbdb3072b37da62fc27170d5a7e8894e90dcf9afedd886f2786eeb8fcf677b7718c0f3c7a26a42133767e346910ea855a5c7e9c501654a62b3cfae4add8581446fa91f0557184eb81d735548db7bbde2518b1eef3c5eedaa1773becf712320d5e23f4312dd422fe261dc04a9fe3141ee53b2f8c6888f36fbbd3463baf400c602f27095dd403a62a5b77bea1f98c473c87f6b7685ef5d1d13b02e4576ce6da9780eb84fb94ae02c3320a5e9af955f6a8df82e3a0f40addf8d87fc171151f38ec015a5f104556b24ad1e9e02bd16f3706a7eaff7658971d7e587d97e40b55388ba755d5f1ca21b95597a690130d32535f82c1ef14bc7617b9c1ba36962bd4ea68963419054b8969f6be7083cbd75150c6f37cd907b36d94dfabe3068bfc67ca8303f6726db2665b7f8f146b38f44a8ca6ae7fea617a078a58c29aa1c6c3166ee516606f5e58f6e98202c07597432cdd585c04bb21339e6878150973217df417a1cc4eef6760bda40740531127542884134c77d2a6fce078d3ccef4526e9ea72927067ec45ca97dab1af13f46e2c7cc55a9b39e70eeb49289f560e916a4d33cc2e5d9f61cdd19e1d7e6886724eb12e479250aafb55d40b3bf5b141d4687d7a4d71ae14f556641fa0462204c030ea1e87c0c329848f1fd45e1524c1ea22cc7f252a4ac604974ad4fe46d3e5638246aba15e19057cdb9f8621cedba4fc058e04c0ae9f8f1f886aa967f9115c0355f104f12b55024bea3e9f2ea30f55c00b7ec825fd9018c67059123596d7b96866892dcb5f49f702fc9f6714185073d839f1a03b23c25f7aa7e13fc0a540e67c39d270c936830f15091dc4c78103aefc7177e77b63160cbd74a2cbc7ec8d066f553fa804235d865840d7ab630a655fe3e9eb3b6771ac286c3a6a9f148deb1c82ce4d8956bc277a3f28ff2001f3cc768acbe8b98bd28f124ae4fc6f8b7d20423e7c456305403b8e4abf3fd671f3c7997fdaa015d80e456810433b6f2ba2ba95e246d6400fc3039a6cc6ce36a432a4d84a6535177fe58ce9a934ab309ac22fc0e38355935a1a4a336e9512759570d5e458ed85d43963227ee633b04592b07903acc3c4f081a4bed17180bbd154993136e2f5ea5dc48891e51b4697ddeb1d960734d22959bd3635b96423ba2de2f29a59b1a09f61349a0f77410e395238387469627f7d02228da99fd1a8e12085de9340bf1b032020ed9e129ac9f0bda4a82f88fab39ae4fec0ad68abf20bda66d11ac286cc99e2c836b68f0855e5a5a1fe7279290afb74b2e60cc4afac88668bb8a4c86e718f540f111190a88c24d6424ed810e7bf5cb5e4e15507f58b370d0fcda71f905cce3b4f7a9e43bf6639f0f0cc9b62db7ddf994ed3223e71d10fe88d9b1ee3cc46557d35590bd096036b278a830e33df1f5a91427d52a75d01e9f3e9b5d3e346846bc5d58d97eed34b4f0255085c5b896bb71cbd84aaa4939d9a32827320cfb82d01d3dda5cf2a604264c1b1694bc3fee89e16e2ad948724267bdd055c1df44b502385a486601405a740bab55ec6db01f17ef2ad41742d556c84e17058bebd3643e1f27df5f8c5862333e9c99ff99ac685aae8e54a94cbcef30407082c094efcaf104ed589318ee2cc34635ed812248ff0996bfbcf0ad02d66dac923da629bba677d311a4e8abadea59c2c841cf37c450536ffd1d1eec874ee8fd1376edc3729a07af9e4c9e2909e41f86059db15808340cb4f41b2643b1e15aeebb07cb2deb8d6ed9cf1cd897a93b2313239d22055492fa5b821c353d9cbfe7298a24df7207274e0c57488b2acd0ae9d40d4eb19029654f0df193e885f28cbdfc45fedf6a899eefeca6d48d4b3089a5be935a1e49d786f46e932620079c3655a454d5d8450156e57077f1d9946e51c07f6d0a947aba95dcac4a30806409faa5b6a5edb62d7b4bf52ef7fd5e11e13669036cd7b49f8232bc8d7f6a13ed1d55cdc13dd5969fdc67021bd8d0721727e6c6f60dd1e33f3be3aa9db80c0e679ff9efd24d7fa978a19ee19e91ad8235809907210eac96f4efd3edd2b2ff140ef71ad9a8d99f7984d0724deb186bd4ccdd16bbb8becb71698a994a194530539624dd422b4e2fb473bd25f7d0aa3a8c7d222944c09972655ea83c9b26b80c57d49a814f51c07948d4b32c838f3d92769f9fdde7e4e499da7e5d1065f870c0c585617b77259dd56ea3157c1183dc7ff2e4ff1f82e9e30f643dd34c2ad5bb10b881e4cb472e06e923b38f12de77627e5e81df95d06e45d913219a4da74bfa102e60530aee0ddb8e672fd95876925a9b62d3a8eafc6b80fd2c56b007a091d3b9ad13ed6d123a3ce2f91596a7ac9e2c8b32797b714d00ff1beba124e742d030118c30c5115de0626d1d290eca8aa23988cc8ca0f0a11e01012d0468696ad48f6d56664a52d8cd0fc4fa2c79890dd8b9945849094f4cb2749afcfbd0af2032e185d53c2757f6072542c1d274f1419794774a43de3b6386a301bafbb7929a45059c7267c5f42ec21aff3d70cf34ca29c57cde06ca06779825fbfceffa4e3bcbae541378b5854e56476e8955ef22e17d7ed19ba1b821d0b2a4d4dcb9a116dc8e620d81c8a69eab8d4b0d90fb0eea51a33a4fe0b9855dcb03835b6751b6345d279c44990631196d12741ef8500c853731c1064f6a02f6d102cfa23d01eb84c93673a806f878ec311114c919fd72634943c75e8fbc31838bb775575496babc189bf85894a655b031e3d6452a7216e65fb0452d6c7fa65c899d733af292b4579a884a762cf89014c658f493fc45e0a829513f1bcf832aaa42b08bde7c5b9150231a22c1ad48176309b5a36255e581fd0fbc66119fd61f7f4c52bebac6146fef004067a2eed72f16dbe1cf7b15091a51365599d1534e438b7d42a15a9e196a90affec66d450bb5b48b2cb15f0d815e617db14eb12d45687f85aba15cbedf3e7f3928bb6fee865ef135249fece591ad0d35738c33373aac6bf50909430ea5f7df7fcca7f573f6b3afeedc9e1b3e82d31f83e24ee09dfbf2f2201af50b9e78f686c346bcab3d08e50d04c59942e8fdad5a3e4631abe7c5c889583f9ed129a57c83fa833c449608d7cb3f484cff383a030941e65e212301ad181af2178bfaa64433e269592ac74480ae175ee3f97f8369870f0b8f656fa380903e625ce0447eb707790fbcd3b72f09849bf4fe951d081fdac3191db8045dc51d17b0e2ab14b189231f37ef8d39bf1729915341da28e6f601cee7aa3825b2db842a7b4279b7c6d42f97d1c8ac1d3a766bf9bb607322ad86e28a1cc2a7bc3131a0e8a4e132e86fc9a69a5b9a427366116f1a95f8ba37d9e881b970347869376f9b81128215c57eb8f1409bc336d9b9ab8d064635480164e65b1d1a7b615fd105933e083c4195085618712929b4270c9ee58cb1384bae6f0215820db85e54139cce15565c615ddd8eb18a99b0ad65f7363ebca55c93101a38ecf54846da62265e6f72b8f999895004139d508b7d038107bf01e4304f8d3ac5e55c9d6a51938fd99105f184301363e3a010198c233d10f952debd2a64933ab6dad89f33a78616234c925493ea4ffea4237b474d100e17b4cd9682db0794eb3171e78c1a1bc94e26f3966c6cbf8a594924876f7280086be846e7ebccba6a70bac2a69a39da3354b967ea50a60b270c640c144e5adc1c115e4ecb4299c2cf5c6ab086708becc4ec35d9c19ca521c7fdec68c9572634b3a14d62da692607035e626b62864197d60897d415456588bd6120920714f9b238fe0fc83d83c84db43b0edbc450fb2647f4f314bf89d09283f135af51bf1c656ecf3ebdf22643b8361499c7861d6f4ce21df864dac23c6790b1b796076e05f16a1d6734205aef979922245f453e297bbc53595df7fe4fb77e048c160847ebd404d35fad90601fad3717a9bba2f7443e2829bca92c32ae9d7f719b5acb23f2934cc0b75f7a65062f92aec3064a08709cf042c4b65863cb09e4a3e9841b47612a3d29669be59505e5b87050bc1d646bb649a2a6271f99122546525be498c81c55727e83951ce8cdce1f8aa9daf88802f229461108e8fd3b187441ff8c91fb639c84abefc235bcdaeab13c59a6ce8b9b4b5d0997cf6f969ca44a94ded36db0e451dac78894563258ca2a89106e870b0c415087819687ad5f7ca18325b29d59b3e7023d601039bab7b97e33bda916c72ee8ceda16d0915262bb9ecf767510391fbed02d140b4f489153bd1feb5fb43f4ea648d76ec59e75209d34b39f6705b22fad9c1c353ae6cc55b3894ac4ce3c9f8afc7ba2ca82b9322e150b87a5564067e2cdd89fadddfde452453e1f4aada3295a57f475a4056fb203090f62967aff759fdc4e3ec043bf0e88ee31971513fa822961ee8c4f140977e0dd95ed3a5b51356a39a1bd6de02a05a1ca41d0885142f7cbaab22eb560b9b15edd860d4436c72411adefc6fd6f3f5de7e32ec6d8f649b5586ba5b78809f3448c061fb2d8c7e69ac612e2e33283dd745731e9eab069b1bbe0e68c5030256b4cb74c3ad9e0ffce26711a2ee4583f422da655585c6d1be658693aad004b5f19e778ff465f0a63f346f210e6f8403759fe0bcf97cfcca9d2a345ef6d44cde43849f480f8eb5da461532085de2227ff7c97378bf33e1a2460803c367048cb4c3ab2b50e1bc3c5827872fa6b1302688561e7c3c15f1ce134aa64da3da7ca4f7681cfe9d232fcddd2263c261068e761b3a9b1f4a1d881fb1a4b41191cf083a0badd1705da40bd0360c6edf6484ebae7c1c4aecf64e9e067a77ab9fd73beeffdf75e836bb78f756cd2af0b2aa07d72ca53bebaa644f6428f4a5f1ea87f1142d6be78cb99ce904e59c31ad3199729a962c512e04818ba3b164c74b4ed674ed8778011617f725cedeb605565f78ffe36317c7debf4620745d3c6e1053e16a2ef007f02e3daf853bd868165f2692b73e1dbf81520215545938ce0b74417102d077f08e83b55352b1863e721ae1278284258a7c9f27f46f2590b736814861bec50614fa5ce8b33ea5770bc2dba82b999e8bb9cbaa74cba61bc3e433b1f389e405201bc964287ed440ae80028f3b2eb2ea741f16685c3db6e5b5aef2a151601629ed1175c79740420cb50768f271f0d8b89ea9c64cc5ad66b273003f2ff50298a874495032e6033447e8b2fe4140c61641b1033ded156397e86479120084b2662618c7fffd830473d5136db0a2bf7c495cfa075f13b3ea54d7fa2fe06164fac6acf1789a29769aec0d9a06411adc4d3869fdd66a6380009b71ae8a90e302e9d078f3d2b418f1b19d23d7f6257c257d6cf981d6ea449a5fa78a75ffa414e0335486cc9b60fe5a597c15ed9049c28223d825f139f60d61a95c5edb749722afa1dd672f49d13f994e35b5e68631e260b16849da6d6ee7cd6bb6a12ec51dc5759437e307e1c46c083791b10a0503445a876c28e8a8273a4cbc9443a11cd962d7820346e70bf60fb43371b31704cbab79a77c28769f261172f29f0cea90a2c480e7db81eee4da7ae70aa3fc389582273e074a74846a404e3dd86b745ae5637da3a5086a6475a0f2deb8ee8e1d16e485b79980cb2a1b221b7dec6c893446fe744206bef7012f1574f52b4b4805a7cd7990a46cf7dc27855cd6ad6eca429e035a70e5cd9e14aa0fccd7093028d9cfa860ea9ef8a0465471993b4a95c2e9bccbc4f932a3af5e59bcba7210e894e2f8d7ad6e26d6012b8500d003f74168cf06eb508503a4f49237992a1be5b990c8a86dc30b1187b7f52f2c31ea6c8f9737e2402b90fe22fdc394616cf699b3fe9461364766ecfc4c260404ad24c705bcd6b6fce903e683144564bb5bcc6daa5dbc47ea2fdb7a8c23560cdf0845eef5ec2c1f88e4988452c74883b3757a0e23cc999a0a75591dd1f526bdceb0015159fdaebd41f9bc725e3de7c956d2712564e152fc6f5552ef02d56de47a07b952101a5f758f7bd13984bdfcb5556085dcef29a051f0fc2a8b7a38da2ef1c9a5de742ac046d6729eb703c84c251641abd9dbdf11a574532aedb37cfa17d5bd8b3f71fa22af547cd8ba8c1d44138786bdcf497cb8cb4c0d6f4af037d79d30f4b7e735b312087cc39d98784a6cce929048297c56a4d0550f98750fbbc32c2167c7c2344afa3cd3efdf0a72da7d8f7d640a4c3da8a7e31388c929ef7a7808cffec7e7fbb9df2c36a69f0593a2aa3ad0dcf760141fb242030602c7171f32d7a0818f476e5afd39ac3d3ccd577f076fe3ea9de6c9fc424a1c2dc6a22dcabad4938bcd5445cacd7a6f5ffcaddd05921412049f496361a1714b73739d974946c9fbdbc40fa4b2a9ad2be7b222b8dae66ccf73692ba7327ce02c3f98be7c5d6af82847d6715361e1e5b5da2ec36ceb56cf5efca737cdb92023b55b1aec913b27c6b8f61bd1622216c35bc74f6e3451d21e673795f4201fe2b1a5143701f19431d17a9f8aac78089c9f8d268160442dbf370911ef3f4c82caa3a54d20e89008fdc08f27d5fab97e830140320a33ede3324d93ca21db1db3f1358125d7ddefe225bb73fda7f8de72a7ccfd6c0f53e29cd323d9a02b5083c8006a7bbbda9e119f71d9f156d854bea6f9e03539d390c1dd155d12eb4f4c0f0963b0334c60687c00d3eeedf52848e58ca675da2bdabe80652fbcd99b2f9a321ed6c61256b108b134d73d7d776943d680d9bb912007da56d32a47570b163a6fca1894ba9f2036271c4c5bbed82f06cb1686c483274ea29ddb3f4a4302f5f39032a90285097da1c3b89b63cf126bcbaa43f8b8bdd0d50295443cd6b771cdf4d4c4730e4875df3e29941fa45763068e69824e279c5733b915dff2fc6d08cda10010b84289a7fa3cee14ebf4d1778fd97a71b499755e4ad8a7c5cc32aa4f2e31e9f5447d7b61ddde39b9ebc45850b8a000ea1ab4b539f8ee257328b077a5f4af0bdf13467dc7938c30cd2f507949b8efaf7cfb056090cb33daac065c1ad4cb685b01aa75f4d9b7b49c4c5bb1cba2860033da909e5dd494674aaec29309de938b2f3319affcbc8f444e3a01159d08fe01d165e22fe3cecff037d1a762ae5244c230bf6ab289d4d2d7413ee3393c291e1321d511496969234bbd2a0f4b34eb7e4df6da5381493da7ea088f91f4a4d032d084e849d1e4a770a53b8308d509cf09f3889296bb5646986951597a9b2a2b5b5404c0371d39e95708f055260671530ca2c7ecc4b451cc1deafe1b71d63aa663c0898ba921b3fb5c195cc0e9ed6f8f6270d0e548ab65b35cf60351ce85cdcffc82b621dccf6610258237f1ff4279d41c6ca63714e114f71253f728bff6fadfc7a84aa8bab26ff449acac2bc82bc03e39adca849ed7e3a2fca59f7ed05113c4955563c9ffdcfb88c7f693ffaada27d18af5aa86bd990a500d6b7d1031809d89d9722f6082825dfa75c9c487c1812b290ccca6e94b4966d8d07fecc28c5af91ebe8b32fa2baf368026c90d3a2d311f80cd0d8dd0bf460371189a0152ea6442f2683a5d7cc2cd95467b754c60dd430e8b1d2119d5c86dfa0d3c02bf2695950e7fe9eae0048a9cb379dfb936c14258c40e4852662e9cd496212c3c6f5bb682a1ae633fdc06eb166ae21adb6e1bddca259ebc60c17ea79bdf844d89ba57fa845131c60ed7736aa9d2ded140b41079a2777cf9fa3dd6df937497940bd15a998e6975a430985628920bb04dbab1f6c0333f2e22db87ad7e917f9f6d10861aca294173eaa0c42d9446aba5896814ae07f6deb501a2798a3000af526a1201fd6bb2a17255173513eba644d5cdcb9eab19e0fea8335d2dbef15b7f00a810dfad7ee0dd43a425c9e2beeb41434051ccc8ed76428d6d6627da7c6bd536eb3231f52f75357051bf7338d35b1c3b73d085ebbe4c0adbacbeed1414e788e13032bf3edb6246edbe158e8e031a6e639e37c45d45aa872ab1eae69fee20a62afc6dfd9a2ce19922f940cff7c377a772af45d9abee88ed632cd9183751caa41b9b59d885282bff55379fad50b862512b34e7d411c9279883d3c94173a15865e140c01bb66b3c3b06ac9adcc29104b1b4e96a013a939c89ceae0f15bca7dc53bcde48d467e49a544bafbda0f1212fba93d1f517bc0c789ca678dfb4c195c426efb4102f05ebdbf110ca0ca0bd1820b8194ea8905faa1bedeff8c8b825782a4eaef593e8c23c26aea4ebfc06e07a54f5386d87b85078b44e192a3a9c5aae4095261f4ac73882287b52ad8b7443e4970ccffddddd825a462db326fb8cede2a02b064822d1440d51a2f6ee177d8f1b697341771f8731967e84317dbce389b3d1432fe259293e635d7f49d572bc4f2d42b9eec37a67742a8e2433f436e4747b7e5d14bc93b9c14b3675184fd974159475173c970ce9b964f69f3aca5899f91b5f5bc70ab7586121c1ae9c312907af322c8c5510549165324e799b79fa6ca3e1262898885c72631fa836e4952d90f95ca7aff1f916276bdf11e1470bc1bd79e95186efe1bc51ca0dc09e4305b2812b945458a17b0e954822772f3af246d9b10cad9061500c2436e915d6a185599e6d3085ff77ca5a771bcb157a4a9c2edfc82a4070d999c295a1d52fea51a5b953f4eb6d22a07011483bee72e6d657fdcf1a9ba2a975448b6092ea62bbd8f674fd5330b0ad13d61169d84c5616595a85441b9b372e35f70f428e470909308fe53047300477ad39c10762a0c91e00fb1917265de9bbfcaedbb4f5e92202eb3b729afe82ed38d562ebfa4e1fcc2e34a328b88a39749fcacbbf5a673422a0d959790420c48f7ae555832a66548ca499dbe577048af9d93753ea3905c6d4a10aaeee0b52b977daf193e0cf39228f8a538b902076c81f0479c41ece4c1012427b3fe36a0379f865e4aaa71d07161367856f9f4553f403b1da4c4c26f07e63bb1b1856b28ecb9cebf2f84ffa756d955bd9c8d7406a8d432ca7bde52c142992ead7d38ec22b9173757e63e0a1dc780c7807ab8273771bb4f8dbce586f6cb745d3e3cadca7181c1967d082d5c85e029a925e22a64b0b17636e5cde9d7184a2456598e4b0439be9c89b46eee0a5ca6faf79a70a962c588b0aed6f97b4ae9775bfc87737b4b27cc368607132eafbaa2bac997dfd6b7f7df170a004710a27b4601f39dc5ebc022d3bd756ca519d8e4bd275888cedc6346eb968efa85c6b7705f57082e355057656e953ec0e942c65289c47155d7b64b1bb40edd64eb9dc44a7899e7a40b5d62ec304b52a1973ede428cf941a5664faac4697fd931d93cbf0f7fd72b060eb5ee682ce76727c8e5ac7da4e05609c295acf673c0dd54cb0bc69b1a0a81cac046cadcb860a5bb56f7f54835316b1ee149d53a5013dd5cd8ddba1832877a9a4926392f30e1030e896c2b9f33138f826a1d8f0c3cbfdbf00c545a3293b4138f2257c3db85e09cab7af88ebe4e8919e6286597f51c3abde7a2815ded45d4c09872d574a0969ef88ca9a5a73e0344e33414c3647070679aa47fe80863269033e855e257be790917f462e8cabc4aa3d27d8cefc24c027255875e05ea6eccb832549c412b7aa0a95a1e471d912e5c2e1192e0b5ef9a5e453b9d8b2271c134caa7b90bc21b6ea5c0366cd29e69ff83e1c79eb7f70a7ad1e21c347478673cd90f118257979f225042260d2dfc39968fa0430ce42d8a276b91ff4ea0851019fe543fdcdfac47e8d3c33f25a186c0f70118db51027c866acb5171fa11a780ae0b197a07e4fe22f0828911fd710f79d953bfccee6d85aec48fe5ef68092ae79a777d014c15dff3f359ea3fcfb74f34553f8a2da457083b8059c41e203b264727b8179ab3697b15e39de44fdc531b02b236437aa0cb8308db9b8f5325888c54b9d6ec7376e5ca28d7ae37793086f339a7415b6ac8d462553fbc5a89488ec4a54530db64da4266e0506886f77d939e3b721b5f8a4fe5eec3e4677677772ded38c1bd33ea4a12009ed246bddfee715373169b44f227e9f483bee331eff92bf10ab2eecaf65ab6e87f5a3b73cba7de7aec8ca429afa2a0dd24f12296e1f6f46c0ed86739e8add768fb580da9624a569bbbcf5388eb9ce974d6e217f6cc0e034c3ed86eeb6f186fd367ad72514e0884cfdb21c14461218b80dccefe2026381ac37a4964d579d4dce98eb038b975921d62b44dbb4e5df32c4d2eaacc00ff8de6cf3d7102798c68eefe68c9e6dd683adfe788dff1aef2929452e12ec8845a964ff2c078de348e1a36eeda7c35ee6fddac5038bdf01d458bdbad255c4880806c69ca9678903301afbe1309fb7d0a80a9ae6574268e49fb1bbe92c5612781fa07b7bad9665e70624bc84908e029ede14643982787b400fd653cce502cf403af61f04a0e6aaab2bd1cabcd3722f35441cba2c9f37c8d13973987ffad309bdf2a10b753698e6189508e2dfc529a7f932bac36711d01edd5ae45840c16b5436de9f6ed63d3185dd0e627f8267e35e7cfa17b4d67e099909b5e0cdb99f9ea734e464fca8ddf8159f1adf1328c823011b9bb7744145dafcb7fbbce532e82cca284f9d470c0ee5da5aa9f42baa7e6fdb3c1c46fe4536c2fd1872e0415cf7526dc09135a190b3be53d154a55b170f3534e6615ab3d33d699ae53b7ded7d4269b36ab13dd0cc207a254315bf0157f3fa36370b8feeb20ac6210c5f8a98af1218b6df504f4d86e10a753d3ffaff6d88ac1a95f31ff45f7444795c73a7600ad709f9756b002d536f8030fe57281914037f2c3839c55feb2fa15cdc1027eab985ebfe6689fd163ead586289f0676f4158d7347255d6ac811e810bfc2ab69f2e6afb2a3f3033d8e1d7cc025bd539709adcce326adc3f112174a0851f05b99150970cae675cb12146fe5f93c67a022ffcb400b9256590af1fad1ee8ea186a91df8e109bf0872c438895a1008154618742ba0c4c72f0fdcacf2cd53b5b97025ba0fc5a86836d2253579e6c8071448260178d83717a6962892d8d459858731d12e58b89d8669c17192de134156aa9651ef74771c2f2076a77910e7014957b6904957251f60555fac7c30d374a17aa1e9531f76e28b7ca0f65635fb7183533d5ef6bc4f3e024da598f29f932d933ca25e8ac4fcf3c4d3ab1d8e1e282819d065e0d0ba6dcd092104d81b7de227afdb1ddfaa6a6e3957d117a67685d377e28c11bf63c73eab2565b37de0b5203cf55322ce1ca1e8aba8e4acf6e6ef435b9485e6109fd4d0c581aa9ff97f28a162f47516bb074e1a209184723bac56062762f73e4625de2e06f572113cd115b04733754e772cfbd16b3f7db9ed950d6e22785c8e59ccc29b151a4ad0b4587c637b2f83d3498e8107c6cc94eaaa1d63dfeda7fd74885bbe59d4facd56a8e81e89bf6fc87f0aeaf82032387bbe7419a68bcc4b0169bcb2de15bc86f1068967d83cd76556d8ec4249b878974f81733e7b57ebfc4219e3e37f53b8c32999daf58d72815e7e17fe0ee6608a4ef4b42af49a222b7501093ec9c663d9f53981c81fabf3c434779bd2c96d6bba125756502527a4106fe56d0ea54169ce097952c547fcd4a7525fc705c2666bab166cfc5f3192bcceae11942e4d082beeca310b2a09a6b30252c79bc573381db2861e81436ad5bb4af6f004d9926b23bf0cb14d110c2ce32a7bcfc676b33b9de75629097cfa479974278abb514ad667415cc042240c890dd50ecd5132558d39eee2000b48656e7141496245770d92f89cd7c8effddd37f66c4148c14055546dc084928f5b123a5cb779604d827712b1d0fb43b239cd0d6a94a6191b0bbccf97b9ad8c1b6fb263642eb1f07f6e3ab73e56a7d64a6c197fe730b9490536e5ddda9193c2a364150faebd232408c52fafeb36c8e1a1414149b053dc60f675f9bacc81bd2174185fedbac10c886d2d4b53cb58b2bdff2f924d534d994b5a1f54264935c5f4616c8e51c227db179a49267256ebf8c935d049ecb1e2cb2b5bcf94f339940d1bf7869ed32199569010717eb903c926984f1f440257a35415bcaa8cd1330c1c0f4c94f57a51e39ae3be31cb145ed432ca8258613e54306ad015bbcdaa293787afbe538c45515c59fa581c31ab624af7f27bc76ad2966df56aff9a49b1eb26ed803557eca3569ade342112552fd6480a3794541eb59197fdba8948bbf7b0d9b00ace5ce46439cc1af55a488b3c3433a92da598a5c7a94372bbf315cceae16db846778a83a84fcb5f313ca25d5cf6e5855402078309b606581755d583cc07694242ad4e7bbf2e81c71f98b427667afebd9a849727eef06a403faea193bd0219f9eb22e28e8064b2e0b08a0d3a9876be954af16871858732da65bff54e53aa09c135effba3e2f534fa979b909982eff60cf066060c2f229a9322212085a605f7aadb1ca1f9e00ec49946965535b19d4ff06ee843f1658f40dc4f95bd9486a5dad900ad76de179e0d3f352da1c28ae31e0eb32f7a105acce16b8dd7e9f5af02f3a1a8aabc870cf0f5020f348a46b804794ffbac54fffa6c67c20f0154ca8fb49975ef679479dac7af2a8cde37a75dabaedb5528db833319a4e8894dd16d5cce491100c9fbd435899eee320c56500468aa6d1f24c942e7438b894584edc831a4e1f827078f2951db3e19cfe58db0d2d554f803bdc8a97656db9f2b1eea37496d54e566f8fe3b100d66b7f832349d13b13280a8f590ac8cc9924ffceae8e7ff0ef7e7d22b7b916bcab5d9599a0d281fd7e8ba49cd8562b54a9576cf37e199e48742d326d6559992fc496923f4335e3bf7fe31ef8f4cf60afe929cbecd966ed82c3316dd93af694f1619c1d7cdcaec278f02f61162cb44f13e169b4b5a90c76f46e5a64aab28008f0b8ac078551294aafaa8ffcc390c5be7ee073e8143615ef3b78bfdd3a00f010d76c56226fdd2db727b6e1a1a9a93f5ba4d9628c4b18de3140fca37dbe95e44756f12f5e656c1efaba0fc790140586eabeac7140223cdce878703768b0e4b13d0c1e132245d28764241ee68da43b098fde5e4531f580dff7734dee2a420daaf13cb30e9d328f327933d9e12dcb36cae955dfe8dcf7a1f5bcf6a01e3cc854b968617bbf95237d5cbe8bb88e3875be6f113372b60a887e6772085db877fa3c5d05ed794771aaf3500e7c26a5b77b06a2289e9112d73add885a8bf3c9ea1ac8614577b51bd0ac02aad07e87506e59e639be741799a9a5b0976435d68a30f649c994bd089e0844641034d18aa95ac189b5a2aa47a897ffa2b5f0102f001ed6d22ebca7492df736defbc4c318cefa23959d98cd9fe3f421c96d5645b457b183115fbf7afb1c79ceb1b257d31d3ab50eacb111181170845d8d8bad7ce349e7fcc629b949e5b95a234b3d145360c12b32c292456f88a24a5aed868174f788b17a3633b50ac66f5c7bc2201cc836b49a37919c5b1d5dd64f7af3b393df70e57d3ba0a563dc6124ec5728aba589e7c6608320f357911a37183b591ae733cf35aec2434aca3e0b772fab3af9f12d421a5732aced369309eba7d2d3ceae2355f2f955c8c5e4540c38d624012f2523ea44cb539db70da78e09e3fab1cbe4d57fff553b04585f982384d429aae2c23c26c810ec7e41994e972681642ea616be04d13739517f28cd4f9078c63417261","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"626f45314ad01a456c425effcef6e776"};

    // you can edit these values to customize some of the behavior of StatiCrypt
    const templateConfig = {
        rememberExpirationKey: "staticrypt_expiration",
        rememberPassphraseKey: "staticrypt_passphrase",
        replaceHtmlCallback: null,
        clearLocalStorageCallback: null,
    };

    // init the staticrypt engine
    const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

    // try to automatically decrypt on load if there is a saved password
    window.onload = async function () {
        const {isSuccessful} = await staticrypt.handleDecryptOnLoad();

        // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
        // replaced, no need to do anything
        if (!isSuccessful) {
            // hide loading screen
            document.getElementById("staticrypt_loading").classList.add("hidden");
            document.getElementById("staticrypt_content").classList.remove("hidden");
            document.getElementById("staticrypt-password").focus();

            // show the remember me checkbox
            if (isRememberEnabled) {
                document.getElementById("staticrypt-remember-label").classList.remove("hidden");
            }
        }
    };

    // toggle password visibility
    const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
    // these two icons are coming from FontAwesome
    const imgSrcEyeClosed =
        //Black
        //"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
        //White
        "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIgIGZpbGw9IiNGRkZGRkYiLz48L3N2Zz4=";
    const imgSrcEyeOpened =
        //Black
        //"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
        //White
        "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiICBmaWxsPSIjRkZGRkZGIi8+PC9zdmc+";
    toggleIcon.addEventListener("click", function () {
        const passwordInput = document.getElementById("staticrypt-password");
        if (passwordInput.type === "password") {
            passwordInput.type = "text";
            toggleIcon.src = imgSrcEyeOpened;
            toggleIcon.alt = templateToggleAltHide;
            toggleIcon.title = templateToggleAltHide;
        } else {
            passwordInput.type = "password";
            toggleIcon.src = imgSrcEyeClosed;
            toggleIcon.alt = templateToggleAltShow;
            toggleIcon.title = templateToggleAltShow;
        }
    });

    // handle password form submission
    document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
        e.preventDefault();

        const password = document.getElementById("staticrypt-password").value,
            isRememberChecked = document.getElementById("staticrypt-remember").checked;

        const {isSuccessful} = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

        if (!isSuccessful) {
            alert(templateError);
        }
    });
</script>
</body>
</html>
